(this["webpackJsonpaws-cognito-react"]=this["webpackJsonpaws-cognito-react"]||[]).push([[0],{282:function(e,t,n){},283:function(e,t,n){},288:function(e,t){},505:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),s=n.n(c),i=(n(282),n(283),n(38)),o=n(26),u=n(264),l=n(578),j=n(568),d=n(569),h=n(9),b=n.n(h),p=n(13),f=n(5),O=n(74),x="us-east-2_pqRpxI09U",m="bv1mr5lto8ssdhhdcloldh7m6";console.log("userpool id=".concat(x)),console.log("client id=".concat(m));var g={UserPoolId:"".concat(x),ClientId:"".concat(m)},v=new O.d(g),w=v.getCurrentUser();function y(e){var t={Username:e,Pool:v};return new O.b(t)}function S(){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w||(w=v.getCurrentUser()),e.abrupt("return",new Promise((function(e,t){w.getSession((function(n,r){n?t(n):e(r)}))})).catch((function(e){throw e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var c=[new O.c({Name:"email",Value:n}),new O.c({Name:"name",Value:"na"}),new O.c({Name:"preferred_username",Value:"na"})];v.signUp(t,r,c,[],(function(t,n){t?a(t):e(n)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return V.apply(this,arguments)}function V(){return(V=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){y(t).confirmRegistration(n,!0,(function(t,n){t?r(t):e(n)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a={Username:t,Password:n},c=new O.a(a);(w=y(t)).authenticateUser(c,{onSuccess:function(t){e(t)},onFailure:function(e){r(e)}})})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return U.apply(this,arguments)}function U(){return(U=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){w.getUserAttributes((function(n,r){n?t(n):e(r)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=[],a=new O.c(t);r.push(a),w.updateAttributes(r,(function(t,r){t?n(t):e(r)}))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=y(t);r?r.forgotPassword({onSuccess:function(t){e(t)},onFailure:function(e){n(e)}}):n("could not find ".concat(t))})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var c=y(t);c?c.confirmPassword(n,r,{onSuccess:function(){e("password updated")},onFailure:function(e){a(e)}}):a("could not find ".concat(t))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return W.apply(this,arguments)}function W(){return(W=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){w.changePassword(t,n,(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A,D=n(1);!function(e){e[e.Loading=0]="Loading",e[e.SignedIn=1]="SignedIn",e[e.SignedOut=2]="SignedOut"}(A||(A={}));var G={sessionInfo:{},authStatus:A.Loading},B=a.a.createContext(G),J=function(e){var t=e.children,n=Object(r.useContext)(B).authStatus;return Object(D.jsx)(D.Fragment,{children:n===A.SignedIn?t:null})},Z=function(e){var t=e.children,n=Object(r.useContext)(B).authStatus;return Object(D.jsx)(D.Fragment,{children:n===A.SignedOut?t:null})},Y=function(e){var t=e.children,n=Object(r.useState)(A.Loading),a=Object(f.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)({}),o=Object(f.a)(i,2),u=o[0],l=o[1],j=Object(r.useState)([]),d=Object(f.a)(j,2),h=d[0],O=d[1];if(Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:return t=e.sent,l({accessToken:t.accessToken.jwtToken,refreshToken:t.refreshToken.token}),window.localStorage.setItem("accessToken","".concat(t.accessToken.jwtToken)),window.localStorage.setItem("refreshToken","".concat(t.refreshToken.token)),e.next=9,V({Name:"website",Value:"https://github.com/dbroadhurst/aws-cognito-react"});case 9:return e.next=11,I();case 11:n=e.sent,O(n),s(A.SignedIn),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s(A.SignedOut);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,c]),c===A.Loading)return null;function x(){return(x=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,n);case 3:s(A.SignedIn),localStorage.setItem("rs_share_user",t),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),s(A.SignedOut),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t,n,r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(){return(g=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function V(e){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(){return(U=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(t,n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t,n,r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function T(){return(T=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t,n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var z={authStatus:c,sessionInfo:u,attrInfo:h,signUpWithEmail:function(e,t,n){return m.apply(this,arguments)},signInWithEmail:function(e,t){return x.apply(this,arguments)},signOut:function(){localStorage.setItem("rs_share_user","signed_out"),w&&w.signOut(),s(A.SignedOut)},verifyCode:function(e,t){return g.apply(this,arguments)},getSession:v,sendCode:function(e){return U.apply(this,arguments)},forgotPassword:function(e,t,n){return F.apply(this,arguments)},changePassword:function(e,t){return T.apply(this,arguments)},getAttributes:I,setAttribute:V};return Object(D.jsx)(B.Provider,{value:z,children:t})},X=n(555),K=n(572),H=n(556),Q=n(575),$=n(557),ee=n(554),te=n(64),ne=function(e){var t=Object(r.useState)(e),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({password:te.b().min(8).required()});if(0!==a.length){var t=e.isValidSync({password:a});u(t)}else u(!0)}),[a]),{password:a,setPassword:c,passwordIsValid:o}},re=function(e){var t=Object(r.useState)(e),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({username:te.b().min(8).required()});if(0!==a.length){var t=e.isValidSync({username:a});u(t)}else u(!0)}),[a]),{username:a,setUsername:c,usernameIsValid:o}},ae=function(e){var t=Object(r.useState)(e),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({code:te.b().min(6).required()});if(0!==a.length){var t=e.isValidSync({code:a});u(t)}else u(!0)}),[a]),{code:a,setCode:c,codeIsValid:o}},ce=n(570),se=function(e){var t=e.emailIsValid,n=e.setEmail;return Object(D.jsx)(ce.a,{fullWidth:!0,variant:"outlined",label:t?"Email":"Invalid Email",error:!t,onChange:function(e){n(e.target.value)}})},ie=function(e){var t=e.label,n=e.passwordIsValid,r=e.setPassword;return Object(D.jsx)(ce.a,{fullWidth:!0,variant:"outlined",label:n?t:"Minimum 8 characters",error:!n,onChange:function(e){r(e.target.value)}})},oe=function(e){var t=e.usernameIsValid,n=e.setUsername;return Object(D.jsx)(ce.a,{fullWidth:!0,variant:"outlined",label:t?"Username":"Minimum 8 characters",error:!t,onChange:function(e){n(e.target.value)}})},ue=function(e){var t=e.codeIsValid,n=e.setCode;return Object(D.jsx)(ce.a,{fullWidth:!0,variant:"outlined",label:t?"Code":"Minimum 6 characters",error:!t,onChange:function(e){n(e.target.value)}})},le=Object(X.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),je=function(){var e=le(),t=re(""),n=t.username,a=t.setUsername,c=t.usernameIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=Object(r.useState)(""),d=Object(f.a)(j,2),h=d[0],O=d[1],x=!c||0===n.length||!l||0===i.length,m=Object(o.f)(),g=Object(r.useContext)(B),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.signInWithEmail(n,i);case 3:m.push("home"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"UserNotConfirmedException"===e.t0.code?m.push("verify"):O(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("requestcode");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)($.a,{variant:"h3",children:"Sign in"})}),Object(D.jsxs)(K.a,{width:"80%",m:1,children:[Object(D.jsx)(oe,{usernameIsValid:c,setUsername:a})," "]}),Object(D.jsxs)(K.a,{width:"80%",m:1,children:[Object(D.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u}),Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(D.jsx)(K.a,{onClick:w,mt:2,children:Object(D.jsx)($.a,{className:e.hover,variant:"body2",children:"Forgot Password?"})})})]}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:h})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Sign In"})})]})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)(K.a,{onClick:function(){return m.push("signup")},children:Object(D.jsx)($.a,{className:e.hover,variant:"body1",children:"Register a new account"})})})]})})})})},de=Object(X.a)({root:{height:"100vh"}}),he=function(){var e=de(),t=function(e){var t=Object(r.useState)(e),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var e=te.a().shape({email:te.b().email().required()});if(0!==a.length){var t=e.isValidSync({email:a});u(t)}else u(!0)}),[a]),{email:a,setEmail:c,emailIsValid:o}}(""),n=t.email,a=t.setEmail,c=t.emailIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=re(""),d=j.username,h=j.setUsername,O=j.usernameIsValid,x=Object(r.useState)(""),m=Object(f.a)(x,2),g=m[0],v=m[1],w=Object(r.useState)(!1),y=Object(f.a)(w,2),S=y[0],I=y[1],k=ne(""),C=k.password,P=k.setPassword,V=k.passwordIsValid,M=!c||0===n.length||!O||0===d.length||!l||0===i.length||!V||0===C.length,E=Object(o.f)(),N=Object(r.useContext)(B),U=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.signUpWithEmail(d,n,i);case 3:I(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&v(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),_=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(se,{emailIsValid:c,setEmail:a})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(oe,{usernameIsValid:O,setUsername:h})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Confirm Password",passwordIsValid:V,setPassword:P})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:g})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{onClick:function(){return E.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:M,color:"primary",variant:"contained",onClick:U,children:"Sign Up"})})]})})]}),F=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($.a,{variant:"h5",children:"Created ".concat(d," account")}),Object(D.jsx)($.a,{variant:"h6",children:"Verfiy Code sent to ".concat(n)}),Object(D.jsx)(K.a,{m:4,children:Object(D.jsx)(Q.a,{onClick:function(){return E.push("/verify")},color:"primary",variant:"contained",children:"Send Code"})})]});return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:3,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)($.a,{variant:"h3",children:"Sign Up"})})}),S?F:_]})})})})},be=Object(X.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),pe=function(){var e=be(),t=re(""),n=t.username,a=t.setUsername,c=t.usernameIsValid,s=ae(""),i=s.code,u=s.setCode,l=s.codeIsValid,j=Object(r.useState)(""),d=Object(f.a)(j,2),h=d[0],O=d[1],x=!c||0===n.length||!l||0===i.length,m=Object(o.f)(),g=Object(r.useContext)(B),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.verifyCode(n,i);case 3:m.push("signin"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),O("Invalid Code");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.push("/resetpassword");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)($.a,{variant:"h3",children:"Send Code"})}),Object(D.jsxs)(K.a,{width:"80%",m:1,children:[Object(D.jsx)(oe,{usernameIsValid:c,setUsername:a})," "]}),Object(D.jsxs)(K.a,{width:"80%",m:1,children:[Object(D.jsx)(ue,{codeIsValid:l,setCode:u}),Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(D.jsxs)(K.a,{onClick:w,mt:2,children:[Object(D.jsx)($.a,{className:e.hover,variant:"body2",children:"Resend Code"}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:h})})]})})]}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Send"})})]})})]})})})})},fe=Object(X.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}},text:{textAlign:"center"}});function Oe(){var e=fe(),t=re(""),n=t.username,a=t.setUsername,c=t.usernameIsValid,s=Object(r.useState)(""),i=Object(f.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)(!1),d=Object(f.a)(j,2),h=d[0],O=d[1],x=!c||0===n.length,m=Object(o.f)(),g=Object(r.useContext)(B),v=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.sendCode(n);case 3:O(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l("Unknown user");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),w=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{mt:1,children:Object(D.jsx)($.a,{className:e.text,variant:"h5",children:"Reset Code Sent to ".concat(n)})}),Object(D.jsx)(K.a,{mt:4,children:Object(D.jsx)(Q.a,{onClick:function(){return m.push("forgotpassword")},color:"primary",variant:"contained",children:"Reset Password"})})]}),y=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(oe,{usernameIsValid:c,setUsername:a})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:u})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{color:"secondary",variant:"contained",onClick:function(){return m.goBack()},children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:x,color:"primary",variant:"contained",onClick:v,children:"Send Code"})})]})})]});return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)($.a,{variant:"h3",children:"Send Reset Code"})}),h?w:y]})})})})}var xe=Object(X.a)({root:{height:"100vh"}});function me(){var e=xe(),t=ae(""),n=t.code,a=t.setCode,c=t.codeIsValid,s=ne(""),i=s.password,u=s.setPassword,l=s.passwordIsValid,j=re(""),d=j.username,h=j.setUsername,O=j.usernameIsValid,x=Object(r.useState)(""),m=Object(f.a)(x,2),g=m[0],v=m[1],w=Object(r.useState)(!1),y=Object(f.a)(w,2),S=y[0],I=y[1],k=ne(""),C=k.password,P=k.setPassword,V=k.passwordIsValid,M=!c||0===n.length||!O||0===d.length||!l||0===i.length||!V||0===C.length,E=Object(o.f)(),N=Object(r.useContext)(B),U=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.forgotPassword(d,n,i);case 3:I(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&v(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),_=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ue,{codeIsValid:c,setCode:a})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(oe,{usernameIsValid:O,setUsername:h})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Password",passwordIsValid:l,setPassword:u})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Confirm Password",passwordIsValid:V,setPassword:P})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:g})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{onClick:function(){return E.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:M,color:"primary",variant:"contained",onClick:U,children:"Change Password"})})]})})]}),F=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($.a,{variant:"h5",children:"Password Reset"}),Object(D.jsx)(K.a,{m:4,children:Object(D.jsx)(Q.a,{onClick:function(){return E.push("/signin")},color:"primary",variant:"contained",children:"Sign In"})})]});return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:3,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)($.a,{variant:"h3",children:"Forgot Password"})})}),S?F:_]})})})})}var ge=Object(X.a)({root:{height:"100vh"}});function ve(){var e=ge(),t=Object(r.useState)(""),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(f.a)(s,2),u=i[0],l=i[1],j=ne(""),d=j.password,h=j.setPassword,O=j.passwordIsValid,x=ne(""),m=x.password,g=x.setPassword,v=x.passwordIsValid,w=!O||0===d.length||!v||0===m.length,y=Object(o.f)(),S=Object(r.useContext)(B),I=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.changePassword(d,m);case 3:l(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.signOut();case 3:y.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&c(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),C=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Old Password",passwordIsValid:O,setPassword:h})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(ie,{label:"Password",passwordIsValid:v,setPassword:g})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsx)($.a,{color:"error",variant:"body2",children:a})}),Object(D.jsx)(K.a,{mt:2,children:Object(D.jsxs)(H.a,{container:!0,direction:"row",justify:"center",children:[Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{onClick:function(){return y.goBack()},color:"secondary",variant:"contained",children:"Cancel"})}),Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{disabled:w,color:"primary",variant:"contained",onClick:I,children:"Change Password"})})]})})]}),P=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)($.a,{variant:"h5",children:"Password Changed"}),Object(D.jsx)(K.a,{m:4,children:Object(D.jsx)(Q.a,{onClick:k,color:"primary",variant:"contained",children:"Sign In"})})]});return Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:16},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:3,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)($.a,{variant:"h3",children:"Change Password"})})}),u?P:C]})})})})}var we=Object(X.a)((function(e){return{root:{height:"100vh"},title:{textAlign:"center"}}})),ye=function(){var e=we(),t=Object(o.f)();return Object(D.jsx)(H.a,{container:!0,children:Object(D.jsxs)(H.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)("img",{src:"./logomain.png",width:224,height:224,alt:"logo"})}),Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)($.a,{className:e.title,variant:"h3",children:"Ride Share"})})}),Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)(Q.a,{onClick:function(){t.push("/signin")},variant:"contained",color:"primary",children:"SIGN IN"})})]})})},Se=Object(X.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}});var Ie=function(){var e=Se(),t=Object(o.f)(),n=localStorage.getItem("rs_share_user"),c=Object(r.useState)("Loading"),s=Object(f.a)(c,2),i=s[0],u=s[1],l=Object(r.useState)("Loading"),j=Object(f.a)(l,2),d=j[0],h=j[1];return a.a.useEffect((function(){fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id="+n).then((function(e){return e.json()})).then((function(e){console.log(e),u("null"!==e?"Y":"N")}),(function(e){return e})),fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id="+n).then((function(e){return e.json()})).then((function(e){h("N")}),(function(e){return e}))}),[]),"Loading"===i||"Loading"===d?Object(D.jsx)("div",{children:"Loading"}):"Y"===i?(t.push("drivera"),Object(D.jsx)("div",{children:"Driver"})):"Y"===d?Object(D.jsx)("div",{children:"Rider"}):Object(D.jsx)(H.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(D.jsx)(H.a,{xs:11,sm:6,lg:4,container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,children:Object(D.jsx)(ee.a,{style:{width:"100%",padding:32},children:Object(D.jsxs)(H.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(D.jsx)(K.a,{m:2,children:Object(D.jsx)($.a,{variant:"h3",children:"Sign in"})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",children:Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{style:{width:"200px"},color:"secondary",variant:"contained",onClick:function(){console.log("activating"),t.push("driver")},children:"Start Ride"})})})}),Object(D.jsx)(K.a,{width:"80%",m:1,children:Object(D.jsx)(H.a,{container:!0,direction:"row",justify:"center",children:Object(D.jsx)(K.a,{m:1,children:Object(D.jsx)(Q.a,{style:{width:"200px"},color:"primary",variant:"contained",children:"Join Ride"})})})})]})})})})},ke=n(63),Ce=n(11),Pe=n(571),Ve=n(581),Me=n(579),Ee=n(576),Ne=n(574),Ue=n(582),_e=n(583),Fe=n(573),Le=n(585),Te=n(584),Re=n(57),ze=n.n(Re),qe=n(50),We=function(e){var t=Object(r.useState)(null),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(null),i=Object(f.a)(s,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){var t=e.places,n=e.travelMode,r=t.map((function(e){return{location:{lat:e.lat,lng:e.lng},stopover:!0}})),a=r.shift().location,s=r.pop().location;(new google.maps.DirectionsService).route({origin:a,destination:s,travelMode:n,waypoints:r},(function(e,t){t===google.maps.DirectionsStatus.OK?c(e):u(e)}))})),o?Object(D.jsx)("h1",{children:o}):a&&Object(D.jsx)(qe.DirectionsRenderer,{directions:a})},Ae=function(e){var t=Object(qe.withScriptjs)(Object(qe.withGoogleMap)((function(e){return Object(D.jsx)(qe.GoogleMap,{defaultCenter:e.defaultCenter,defaultZoom:e.defaultZoom,children:Object(D.jsx)(We,{places:e.places,travelMode:window.google.maps.TravelMode.DRIVING})})})));return Object(D.jsx)(Me.a,{sx:{display:"flex"},children:Object(D.jsx)(Me.a,{component:"main",sx:{flexGrow:1},children:Object(D.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDciBUuGsYD6gmUrEkV-24bhXvzAXiZz0g&v=3.exp&libraries=geometry,drawing,places&sensor=true",places:[e.from,e.to],loadingElement:Object(D.jsx)("div",{style:{height:"100%"}}),containerElement:Object(D.jsx)("div",{style:{height:"80vh"}}),mapElement:Object(D.jsx)("div",{style:{height:"100vh"}}),defaultCenter:{lat:e.default.lat,lng:e.default.lng},defaultZoom:12})})})},De=a.a.createContext(null);var Ge=function(){var e=Object(o.f)();return Object(D.jsx)(Fe.a,{style:{position:"absolute",right:20},variant:"contained",onClick:function(){window.confirm("Do you want to log out ?")&&e.push("logout")},children:"Logout"})},Be=function(){var e=Object(o.f)(),t=Object(r.useContext)(De),n=t.setFromMap,a=t.setToMap,c=Object(r.useState)({lat:null,lng:null}),s=Object(f.a)(c,2),i=(s[0],s[1],Object(r.useState)("")),u=Object(f.a)(i,2),l=u[0],j=u[1],d=Object(r.useState)({lat:null,lng:null}),h=Object(f.a)(d,2),O=h[0],x=h[1],m=Object(r.useState)([]),g=Object(f.a)(m,2),v=(g[0],g[1],Object(r.useState)("")),w=Object(f.a)(v,2),y=w[0],S=w[1],I=Object(r.useState)(""),k=Object(f.a)(I,2),C=k[0],P=k[1],V=Object(r.useState)(""),M=Object(f.a)(V,2),E=M[0],N=M[1],U=Object(r.useState)({lat:null,lng:null}),_=Object(f.a)(U,2),F=_[0],L=_[1];Object(r.useEffect)((function(){}));var T=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(Re.getLatLng)(n[0]);case 5:r=e.sent,j(t),x(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.geocodeByAddress)(t);case 2:return n=e.sent,e.next=5,Object(Re.getLatLng)(n[0]);case 5:r=e.sent,S(t),L(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(Pe.a,{variant:"permanent",sx:Object(Ce.a)({width:"20%",flexShrink:0},"& .MuiDrawer-paper",{width:"20%",boxSizing:"border-box"}),children:[Object(D.jsx)(Ve.a,{}),Object(D.jsxs)(Me.a,{sx:{m:2},children:[Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Ee.a,{fullWidth:!0,children:Object(D.jsx)(ze.a,{value:l,onChange:j,onSelect:T,children:function(e){var t=e.getInputProps,n=e.suggestions,r=e.getSuggestionItemProps,a=e.loading;return Object(D.jsxs)(Me.a,{children:[Object(D.jsx)(Ne.a,Object(ke.a)({autoFocus:!0,sx:{width:"100%"}},t({placeholder:"From"}))),Object(D.jsxs)(Ue.a,{dense:!0,children:[a?Object(D.jsx)(Me.a,{children:"...loading"}):null,n.map((function(e){return Object(D.jsx)(_e.a,Object(ke.a)(Object(ke.a)({},r(e)),{},{sx:{cursor:"pointer"},children:e.description}))}))]})]})}})})}),Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Ee.a,{fullWidth:!0,children:Object(D.jsx)(ze.a,{value:y,onChange:S,onSelect:R,children:function(e){var t=e.getInputProps,n=e.suggestions,r=e.getSuggestionItemProps,a=e.loading;return Object(D.jsxs)(Me.a,{children:[Object(D.jsx)(Ne.a,Object(ke.a)({sx:{width:"100%"}},t({placeholder:"To"}))),Object(D.jsxs)(Ue.a,{dense:!0,children:[a?Object(D.jsx)(Me.a,{children:"...loading"}):null,n.map((function(e){return Object(D.jsx)(_e.a,Object(ke.a)(Object(ke.a)({},r(e)),{},{sx:{cursor:"pointer"},children:e.description}))}))]})]})}})})}),Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Ee.a,{fullWidth:!0,children:Object(D.jsx)(ze.a,{value:C,onChange:P,children:function(e){var t=e.getInputProps;return Object(D.jsx)(Me.a,{children:Object(D.jsx)(Ne.a,Object(ke.a)({sx:{width:"100%"}},t({placeholder:"Spare Seats"})))})}})})}),Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Ee.a,{fullWidth:!0,children:Object(D.jsx)(ze.a,{value:E,onChange:N,children:function(e){var t=e.getInputProps;return Object(D.jsx)(Me.a,{children:Object(D.jsx)(Ne.a,Object(ke.a)({sx:{width:"100%"}},t({placeholder:"Max Detour (mi)"})))})}})})}),Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Fe.a,{variant:"contained",onClick:function(){O&&F&&C&&E&&(n(O),a(F),function(t,n,r,a){var c=localStorage.getItem("rs_share_user");fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({driver_id:c,from_lat:t.lat,from_lng:t.lng,to_lat:n.lat,to_lng:n.lng,miles:a,seats:r})}),e.push("drivera")}(O,F,C,E))},children:"Submit"})})]})]})},Je=Object(qe.withScriptjs)(Object(qe.withGoogleMap)((function(e){return Object(D.jsx)(qe.GoogleMap,{defaultCenter:{lat:e.center.lat,lng:e.center.lng},defaultZoom:e.defaultZoom})}))),Ze=function(){var e=Object(r.useContext)(De),t=e.fromMap,n=e.toMap,a=e.defaultMap;return t&&n?Object(D.jsx)(Me.a,{component:"main",sx:{flexGrow:1},children:Object(D.jsx)(Ae,{to:{lat:n.lat,lng:n.lng},from:{lat:t.lat,lng:t.lng},default:{lat:a.lat,lng:a.lng}})}):Object(D.jsx)(Me.a,{component:"main",sx:{flexGrow:1},children:Object(D.jsx)(Je,{center:{lat:a.lat,lng:a.lng}})})},Ye=function(){var e=Object(r.useState)({lat:"",lng:""}),t=Object(f.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)({lat:"",lng:""}),i=Object(f.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)({lat:0,lng:0}),j=Object(f.a)(l,2),d=j[0],h=j[1];return a.a.useEffect((function(){navigator.geolocation.getCurrentPosition((function(e){h({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]),Object(D.jsx)(De.Provider,{value:{fromMap:n,setFromMap:c,toMap:o,setToMap:u,defaultMap:d},children:Object(D.jsxs)(Me.a,{sx:{display:"flex"},children:[Object(D.jsx)(Le.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(D.jsxs)(Ve.a,{children:[Object(D.jsx)(Te.a,{variant:"h6",noWrap:!0,component:"div",children:"RideShare"}),Object(D.jsx)(Ge,{})]})}),Object(D.jsx)(Be,{}),Object(D.jsx)(Ze,{})]})})},Xe=function(){var e=localStorage.getItem("rs_share_user"),t=Object(r.useContext)(De),n=t.setFromMap,c=t.setToMap,s=Object(r.useState)({lat:0,lng:0}),i=Object(f.a)(s,2);i[0],i[1];return a.a.useLayoutEffect((function(){fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id="+e).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);n({lat:Number(t[6]),lng:Number(t[7])})})).then((function(e){return e}))}),[]),a.a.useLayoutEffect((function(){fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/current?user_id="+e).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);console.log("------"),console.log(t),c({lat:Number(t[5]),lng:Number(t[6])})})).then((function(e){return e}))}),[]),a.a.useLayoutEffect((function(){var t=setInterval((function(){fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id="+e).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);n({lat:Number(t[6]),lng:Number(t[7])})})).then((function(e){return e}))}),8e3);return function(){return clearInterval(t)}}),[]),a.a.useLayoutEffect((function(){var t=setInterval((function(){navigator.geolocation.getCurrentPosition((function(t){fetch("https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/driver/update",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({driver_id:e,lat:t.coords.latitude,lng:t.coords.longitude})})}))}),6e3);return function(){return clearInterval(t)}}),[]),Object(D.jsxs)(Pe.a,{variant:"permanent",sx:Object(Ce.a)({width:"20%",flexShrink:0},"& .MuiDrawer-paper",{width:"20%",boxSizing:"border-box"}),children:[Object(D.jsx)(Ve.a,{}),Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Me.a,{sx:{m:2},children:Object(D.jsx)(Fe.a,{variant:"contained",onClick:function(){},children:"Submit"})})})]})},Ke=function(){var e=Object(r.useContext)(De),t=e.fromMap,n=e.toMap,a=e.defaultMap;return Object(D.jsx)(Me.a,{component:"main",sx:{flexGrow:1},children:Object(D.jsx)(Ae,{to:{lat:n.lat,lng:n.lng},from:{lat:t.lat,lng:t.lng},default:{lat:a.lat,lng:a.lng}})})},He=function(){Object(o.f)();var e=Object(r.useState)({lat:"",lng:""}),t=Object(f.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)({lat:"",lng:""}),i=Object(f.a)(s,2),u=i[0],l=i[1],j=Object(r.useState)({lat:0,lng:0}),d=Object(f.a)(j,2),h=d[0],b=d[1];return a.a.useEffect((function(){navigator.geolocation.getCurrentPosition((function(e){b({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]),Object(D.jsx)(De.Provider,{value:{fromMap:n,setFromMap:c,toMap:u,setToMap:l,defaultMap:h},children:Object(D.jsxs)(Me.a,{sx:{display:"flex"},children:[Object(D.jsx)(Le.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(D.jsxs)(Ve.a,{children:[Object(D.jsx)(Te.a,{variant:"h6",noWrap:!0,component:"div",children:"RideShare"}),Object(D.jsx)(Ge,{})]})}),Object(D.jsx)(Xe,{}),Object(D.jsx)(Ke,{})]})})},Qe=(Object(X.a)({root:{height:"100vh"},hover:{"&:hover":{cursor:"pointer"}}}),function(){var e=Object(o.f)(),t=Object(r.useContext)(B);return Object(r.useEffect)((function(){function n(){return(n=Object(p.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.signOut();case 2:e.push("landing");case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),Object(D.jsx)("div",{})}),$e=Object(u.a)({palette:{type:"light"}});$e=Object(l.a)($e);var et=function(){return Object(D.jsx)(i.a,{children:Object(D.jsxs)(o.c,{children:[Object(D.jsx)(o.a,{path:"/signin",component:je}),Object(D.jsx)(o.a,{path:"/signup",component:he}),Object(D.jsx)(o.a,{path:"/verify",component:pe}),Object(D.jsx)(o.a,{path:"/requestcode",component:Oe}),Object(D.jsx)(o.a,{path:"/forgotpassword",component:me}),Object(D.jsx)(o.a,{path:"/",component:ye})]})})},tt=function(){return Object(D.jsx)(i.a,{children:Object(D.jsxs)(o.c,{children:[Object(D.jsx)(o.a,{path:"/changepassword",component:ve}),Object(D.jsx)(o.a,{path:"/logout",component:Qe}),Object(D.jsx)(o.a,{path:"/driver",component:Ye}),Object(D.jsx)(o.a,{path:"/drivera",component:He}),Object(D.jsx)(o.a,{path:"/",component:Ie})]})})},nt=function(){return Object(D.jsxs)(j.a,{theme:$e,children:[Object(D.jsx)(d.a,{}),Object(D.jsxs)(Y,{children:[Object(D.jsx)(J,{children:Object(D.jsx)(tt,{})}),Object(D.jsx)(Z,{children:Object(D.jsx)(et,{})})]})]})};s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(nt,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.740bca77.chunk.js.map