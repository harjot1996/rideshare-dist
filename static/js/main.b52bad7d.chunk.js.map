{"version":3,"sources":["libs/cognito.ts","contexts/authContext.tsx","hooks/useAuthHooks.tsx","components/authComponents.tsx","routes/auth/signIn.tsx","routes/auth/signUp.tsx","routes/auth/verify.tsx","routes/auth/requestCode.tsx","routes/auth/forgotPassword.tsx","routes/auth/changePassword.tsx","routes/landing.tsx","routes/Home.js","routes/Renderer.js","routes/Map.js","routes/Context.js","routes/Header.js","routes/Driver.js","routes/DriverActive.js","routes/auth/logout.tsx","routes/Rider.js","routes/RiderActive.js","App.tsx","index.tsx"],"names":["userPoolId","process","clientId","console","log","poolData","UserPoolId","ClientId","userPool","CognitoUserPool","currentUser","getCurrentUser","getCognitoUser","username","userData","Username","Pool","CognitoUser","getSession","a","Promise","resolve","reject","err","session","catch","signUpUserWithEmail","email","password","attributeList","CognitoUserAttribute","Name","Value","signUp","res","verifyCode","code","confirmRegistration","result","signInWithEmail","authenticationData","Password","authenticationDetails","AuthenticationDetails","authenticateUser","onSuccess","onFailure","getAttributes","getUserAttributes","attributes","setAttribute","attribute","push","updateAttributes","sendCode","cognitoUser","forgotPassword","confirmPassword","changePassword","oldPassword","newPassword","AuthStatus","defaultState","sessionInfo","authStatus","Loading","AuthContext","React","createContext","AuthIsSignedIn","children","useContext","SignedIn","AuthIsNotSignedIn","SignedOut","AuthProvider","useState","setAuthStatus","setSessionInfo","attrInfo","setAttrInfo","useEffect","accessToken","jwtToken","refreshToken","token","window","localStorage","setItem","attr","getSessionInfo","cognito","state","signUpWithEmail","signOut","Provider","value","useValidPassword","initialValue","setPassword","passwordIsValid","setPasswordIsValid","passwordSchema","yup","shape","min","required","length","isValid","isValidSync","useValidUsername","setUsername","usernameIsValid","setUsernameIsValid","usernameSchema","useValidCode","setCode","codeIsValid","setCodeIsValid","codeSchema","Email","emailIsValid","setEmail","TextField","fullWidth","variant","label","error","onChange","evt","target","Code","useStyles","makeStyles","root","height","hover","cursor","SignIn","classes","setError","history","useHistory","authContext","signInClicked","message","passwordResetClicked","Grid","className","container","direction","justify","alignItems","xs","sm","lg","item","Paper","style","width","padding","Box","m","Typography","onClick","mt","color","Button","goBack","disabled","SignUp","setEmailIsValid","emailSchema","useValidEmail","created","setCreated","passwordConfirm","setPasswordConfirm","passwordConfirmIsValid","Error","accountCreated","VerifyCode","sendClicked","text","textAlign","RequestCode","resetSent","setResetSent","sendCodeClicked","emailSent","ForgotPassword","reset","setReset","resetPassword","updatePassword","passwordReset","ChangePassword","setOldPassword","oldPasswordIsValid","setNewPassword","newPasswordIsValid","theme","title","Landing","src","alt","Home","user_id","getItem","activeDriver","setActiveDriver","activeRider","setActiveRider","fetch","then","json","Renderer","props","directions","setDirections","places","travelMode","waypoints","map","p","location","lat","lng","stopover","origin","shift","destination","pop","google","maps","DirectionsService","route","status","DirectionsStatus","OK","MapScreen","input","Map","from","isNaN","to","withScriptjs","withGoogleMap","defaultCenter","defaultZoom","TravelMode","DRIVING","googleMapURL","loadingElement","containerElement","mapElement","default","Header","position","right","confirm","MainScreen2","drawerWidth","Context","setFromMap","setToMap","setFrom","fromCoords","setFromCoords","setTo","seats","setSeats","detour","setDetour","toCoords","setToCoords","handleSelectFrom","geocodeByAddress","results","getLatLng","latLng","handleSelectTo","from_","to_","method","headers","body","JSON","stringify","driver_id","from_lat","from_lng","to_lat","to_lng","miles","dst","Drawer","sx","flexShrink","boxSizing","Toolbar","FormControl","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","Input","autoFocus","placeholder","List","dense","suggestion","ListItemText","description","postRide","Driver","fromMap","toMap","defaultMap","setDefaultMap","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","display","AppBar","zIndex","drawer","noWrap","component","setRideFlag","riderName","setRiderName","pickup","setPickup","pickupDOM","setPickupDOM","matchAccept","id","driver_ride_id","rider_id","rider_ride_id","pickup_id","reload","useLayoutEffect","res_","parse","Number","res1_","interval","setInterval","clearInterval","left","top","margin","InnerMap","flexGrow","DriverActive","rideFlag","flag","bottom","deleteTop","Logout","fetchMyAPI","rejected","setRejected","rejectedDOM","setRejectedDOM","Rider","base","parseFloat","StateSeparator","setBase","rideStatus","setRideStatus","footerText","setFooterText","riderTuple","setRiderTuple","rideFetcher","parseInt","backgroundColor","justifyContent","RiderActive","borderBottom","verticalAlign","lightTheme","createMuiTheme","palette","type","responsiveFontSizes","SignInRoute","path","MainRoute","App","ThemeProvider","CssBaseline","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b52bad7d.chunk.js","sourcesContent":["import { AuthenticationDetails, CognitoUser, CognitoUserAttribute, CognitoUserPool } from 'amazon-cognito-identity-js'\n\nconst userPoolId = process.env.REACT_APP_USERPOOL_ID\nconst clientId = process.env.REACT_APP_CLIENT_ID\n\nconsole.log(`userpool id=${userPoolId}`)\nconsole.log(`client id=${clientId}`)\n\nconst poolData = {\n  UserPoolId: `${userPoolId}`,\n  ClientId: `${clientId}`,\n}\n\nconst userPool: CognitoUserPool = new CognitoUserPool(poolData)\n\nlet currentUser: any = userPool.getCurrentUser()\n\nexport function getCurrentUser() {\n  return currentUser\n}\n\nfunction getCognitoUser(username: string) {\n  const userData = {\n    Username: username,\n    Pool: userPool,\n  }\n  const cognitoUser = new CognitoUser(userData)\n\n  return cognitoUser\n}\n\nexport async function getSession() {\n  if (!currentUser) {\n    currentUser = userPool.getCurrentUser()\n  }\n\n  return new Promise(function (resolve, reject) {\n    currentUser.getSession(function (err: any, session: any) {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(session)\n      }\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function signUpUserWithEmail(username: string, email: string, password: string) {\n  return new Promise(function (resolve, reject) {\n    const attributeList = [\n      new CognitoUserAttribute({\n            Name: 'email',\n            Value: email,\n          }),\n      new CognitoUserAttribute({\n            Name: 'name',\n            Value: 'na',\n          }),\n      new CognitoUserAttribute({\n            Name: 'preferred_username',\n            Value: 'na',\n          })\n    ]\n\n    userPool.signUp(username, password, attributeList, [], function (err, res) {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(res)\n      }\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function verifyCode(username: string, code: string) {\n  return new Promise(function (resolve, reject) {\n    const cognitoUser = getCognitoUser(username)\n\n    cognitoUser.confirmRegistration(code, true, function (err, result) {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(result)\n      }\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function signInWithEmail(username: string, password: string) {\n  return new Promise(function (resolve, reject) {\n    const authenticationData = {\n      Username: username,\n      Password: password,\n    }\n    const authenticationDetails = new AuthenticationDetails(authenticationData)\n\n    currentUser = getCognitoUser(username)\n\n    currentUser.authenticateUser(authenticationDetails, {\n      onSuccess: function (res: any) {\n        resolve(res)\n      },\n      onFailure: function (err: any) {\n        reject(err)\n      },\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport function signOut() {\n  if (currentUser) {\n    currentUser.signOut()\n  }\n}\n\nexport async function getAttributes() {\n  return new Promise(function (resolve, reject) {\n    currentUser.getUserAttributes(function (err: any, attributes: any) {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(attributes)\n      }\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function setAttribute(attribute: any) {\n  return new Promise(function (resolve, reject) {\n    const attributeList = []\n    const res = new CognitoUserAttribute(attribute)\n    attributeList.push(res)\n\n    currentUser.updateAttributes(attributeList, (err: any, res: any) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(res)\n      }\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function sendCode(username: string) {\n  return new Promise(function (resolve, reject) {\n    const cognitoUser = getCognitoUser(username)\n\n    if (!cognitoUser) {\n      reject(`could not find ${username}`)\n      return\n    }\n\n    cognitoUser.forgotPassword({\n      onSuccess: function (res) {\n        resolve(res)\n      },\n      onFailure: function (err) {\n        reject(err)\n      },\n    })\n  }).catch((err) => {\n    throw err\n  })\n}\n\nexport async function forgotPassword(username: string, code: string, password: string) {\n  return new Promise(function (resolve, reject) {\n    const cognitoUser = getCognitoUser(username)\n\n    if (!cognitoUser) {\n      reject(`could not find ${username}`)\n      return\n    }\n\n    cognitoUser.confirmPassword(code, password, {\n      onSuccess: function () {\n        resolve('password updated')\n      },\n      onFailure: function (err) {\n        reject(err)\n      },\n    })\n  })\n}\n\nexport async function changePassword(oldPassword: string, newPassword: string) {\n  return new Promise(function (resolve, reject) {\n    currentUser.changePassword(oldPassword, newPassword, function (err: any, res: any) {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(res)\n      }\n    })\n  })\n}\n","import React, { useState, useEffect, useContext } from 'react'\n\nimport * as cognito from '../libs/cognito'\n\nexport enum AuthStatus {\n  Loading,\n  SignedIn,\n  SignedOut,\n}\n\nexport interface IAuth {\n  sessionInfo?: { username?: string; email?: string; sub?: string; accessToken?: string; refreshToken?: string }\n  attrInfo?: any\n  authStatus?: AuthStatus\n  signInWithEmail?: any\n  signUpWithEmail?: any\n  signOut?: any\n  verifyCode?: any\n  getSession?: any\n  sendCode?: any\n  forgotPassword?: any\n  changePassword?: any\n  getAttributes?: any\n  setAttribute?: any\n}\n\nconst defaultState: IAuth = {\n  sessionInfo: {},\n  authStatus: AuthStatus.Loading,\n}\n\nexport const AuthContext = React.createContext(defaultState)\n\nexport const AuthIsSignedIn: React.FunctionComponent = ({ children }) => {\n  const { authStatus }: IAuth = useContext(AuthContext)\n\n  return <>{authStatus === AuthStatus.SignedIn ? children : null}</>\n}\n\nexport const AuthIsNotSignedIn: React.FunctionComponent = ({ children }) => {\n  const { authStatus }: IAuth = useContext(AuthContext)\n\n  return <>{authStatus === AuthStatus.SignedOut ? children : null}</>\n}\n\nconst AuthProvider: React.FunctionComponent = ({ children }) => {\n  const [authStatus, setAuthStatus] = useState(AuthStatus.Loading)\n  const [sessionInfo, setSessionInfo] = useState({})\n  const [attrInfo, setAttrInfo] = useState([])\n\n  useEffect(() => {\n    async function getSessionInfo() {\n      try {\n        const session: any = await getSession()\n        setSessionInfo({\n          accessToken: session.accessToken.jwtToken,\n          refreshToken: session.refreshToken.token,\n        })\n        window.localStorage.setItem('accessToken', `${session.accessToken.jwtToken}`)\n        window.localStorage.setItem('refreshToken', `${session.refreshToken.token}`)\n        await setAttribute({ Name: 'website', Value: 'https://github.com/dbroadhurst/aws-cognito-react' })\n        const attr: any = await getAttributes()\n        setAttrInfo(attr)\n        setAuthStatus(AuthStatus.SignedIn)\n      } catch (err) {\n        setAuthStatus(AuthStatus.SignedOut)\n      }\n    }\n    getSessionInfo()\n  }, [setAuthStatus, authStatus])\n\n  if (authStatus === AuthStatus.Loading) {\n    return null\n  }\n\n  async function signInWithEmail(username: string, password: string) {\n    try {\n      await cognito.signInWithEmail(username, password)\n      setAuthStatus(AuthStatus.SignedIn)\n      localStorage.setItem(\"rs_share_user\", username)\n    } catch (err) {\n      setAuthStatus(AuthStatus.SignedOut)\n      throw err\n    }\n  }\n\n  async function signUpWithEmail(username: string, email: string, password: string) {\n    try {\n      await cognito.signUpUserWithEmail(username, email, password)\n    } catch (err) {\n      throw err\n    }\n  }\n\n  function signOut() {\n    //let use = localStorage.getItem(\"rs_share_user\")\n    //console.log(use)\n    localStorage.setItem(\"rs_share_user\", \"signed_out\")\n    cognito.signOut()\n    setAuthStatus(AuthStatus.SignedOut)\n  }\n\n  async function verifyCode(username: string, code: string) {\n    try {\n      await cognito.verifyCode(username, code)\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function getSession() {\n    try {\n      const session = await cognito.getSession()\n      return session\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function getAttributes() {\n    try {\n      const attr = await cognito.getAttributes()\n      return attr\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function setAttribute(attr: any) {\n    try {\n      const res = await cognito.setAttribute(attr)\n      return res\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function sendCode(username: string) {\n    try {\n      await cognito.sendCode(username)\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function forgotPassword(username: string, code: string, password: string) {\n    try {\n      await cognito.forgotPassword(username, code, password)\n    } catch (err) {\n      throw err\n    }\n  }\n\n  async function changePassword(oldPassword: string, newPassword: string) {\n    try {\n      await cognito.changePassword(oldPassword, newPassword)\n    } catch (err) {\n      throw err\n    }\n  }\n\n  const state: IAuth = {\n    authStatus,\n    sessionInfo,\n    attrInfo,\n    signUpWithEmail,\n    signInWithEmail,\n    signOut,\n    verifyCode,\n    getSession,\n    sendCode,\n    forgotPassword,\n    changePassword,\n    getAttributes,\n    setAttribute,\n  }\n\n  return <AuthContext.Provider value={state}>{children}</AuthContext.Provider>\n}\n\nexport default AuthProvider\n","import { useState, useEffect } from 'react'\n\nimport * as yup from 'yup'\n\nexport const useValidEmail = (initialValue: string) => {\n  const [email, setEmail] = useState(initialValue)\n  const [emailIsValid, setEmailIsValid] = useState(true)\n\n  useEffect(() => {\n    const emailSchema = yup.object().shape({\n      email: yup.string().email().required(),\n    })\n\n    if (email.length === 0) {\n      setEmailIsValid(true)\n      return\n    }\n\n    const isValid = emailSchema.isValidSync({ email })\n\n    setEmailIsValid(isValid)\n  }, [email])\n\n  return { email, setEmail, emailIsValid }\n}\n\nexport const useValidPassword = (initialValue: string) => {\n  const [password, setPassword] = useState(initialValue)\n  const [passwordIsValid, setPasswordIsValid] = useState(true)\n\n  useEffect(() => {\n    const passwordSchema = yup.object().shape({\n      password: yup.string().min(8).required(),\n    })\n\n    if (password.length === 0) {\n      setPasswordIsValid(true)\n      return\n    }\n\n    const isValid = passwordSchema.isValidSync({ password })\n\n    setPasswordIsValid(isValid)\n  }, [password])\n\n  return { password, setPassword, passwordIsValid }\n}\n\nexport const useValidUsername = (initialValue: string) => {\n  const [username, setUsername] = useState(initialValue)\n  const [usernameIsValid, setUsernameIsValid] = useState(true)\n\n  useEffect(() => {\n    const usernameSchema = yup.object().shape({\n      username: yup.string().min(8).required(),\n    })\n\n    if (username.length === 0) {\n      setUsernameIsValid(true)\n      return\n    }\n\n    const isValid = usernameSchema.isValidSync({ username })\n\n    setUsernameIsValid(isValid)\n  }, [username])\n\n  return { username, setUsername, usernameIsValid }\n}\n\nexport const useValidCode = (initialValue: string) => {\n  const [code, setCode] = useState(initialValue)\n  const [codeIsValid, setCodeIsValid] = useState(true)\n\n  useEffect(() => {\n    const codeSchema = yup.object().shape({\n      code: yup.string().min(6).required(),\n    })\n\n    if (code.length === 0) {\n      setCodeIsValid(true)\n      return\n    }\n\n    const isValid = codeSchema.isValidSync({ code })\n\n    setCodeIsValid(isValid)\n  }, [code])\n\n  return { code, setCode, codeIsValid }\n}\n","import React from 'react'\n\nimport TextField from '@material-ui/core/TextField'\n\nexport const Email: React.FunctionComponent<{ emailIsValid: boolean; setEmail: (_: string) => void }> = ({\n  emailIsValid,\n  setEmail,\n}) => {\n  return (\n    <TextField\n      fullWidth\n      variant=\"outlined\"\n      label={emailIsValid ? 'Email' : 'Invalid Email'}\n      error={!emailIsValid}\n      onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setEmail(evt.target.value)\n      }}\n    />\n  )\n}\n\nexport const Password: React.FunctionComponent<{\n  label: string\n  passwordIsValid: boolean\n  setPassword: (_: string) => void\n}> = ({ label, passwordIsValid, setPassword }) => {\n  return (\n    <TextField\n      fullWidth\n      variant=\"outlined\"\n      label={passwordIsValid ? label : 'Minimum 8 characters'}\n      error={!passwordIsValid}\n      onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setPassword(evt.target.value)\n      }}\n    />\n  )\n}\n\nexport const Username: React.FunctionComponent<{ usernameIsValid: boolean; setUsername: (_: string) => void }> = ({\n  usernameIsValid,\n  setUsername,\n}) => {\n  return (\n    <TextField\n      fullWidth\n      variant=\"outlined\"\n      label={usernameIsValid ? 'Username' : 'Minimum 8 characters'}\n      error={!usernameIsValid}\n      onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setUsername(evt.target.value)\n      }}\n    />\n  )\n}\n\nexport const Code: React.FunctionComponent<{ codeIsValid: boolean; setCode: (_: string) => void }> = ({\n  codeIsValid,\n  setCode,\n}) => {\n  return (\n    <TextField\n      fullWidth\n      variant=\"outlined\"\n      label={codeIsValid ? 'Code' : 'Minimum 6 characters'}\n      error={!codeIsValid}\n      onChange={(evt: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setCode(evt.target.value)\n      }}\n    />\n  )\n}\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidPassword, useValidUsername } from '../../hooks/useAuthHooks'\nimport { Password, Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n  hover: {\n    '&:hover': { cursor: 'pointer' },\n  },\n})\n\nconst SignIn: React.FunctionComponent<{}> = () => {\n  const classes = useStyles()\n\n  const { username, setUsername, usernameIsValid } = useValidUsername('')\n  const { password, setPassword, passwordIsValid } = useValidPassword('')\n  const [error, setError] = useState('')\n\n  const isValid = !usernameIsValid || username.length === 0 || !passwordIsValid || password.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const signInClicked = async () => {\n    try {\n      await authContext.signInWithEmail(username, password)\n      history.push('home')\n    } catch (err: any) {\n      if (err.code === 'UserNotConfirmedException') {\n        history.push('verify')\n      } else {\n        setError(err.message)\n      }\n    }\n  }\n\n  const passwordResetClicked = async () => {\n    history.push('requestcode')\n  }\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 32 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            {/* Title */}\n            <Box m={2}>\n              <Typography variant=\"h3\">Sign in</Typography>\n            </Box>\n\n            {/* Sign In Form */}\n            <Box width=\"80%\" m={1}>\n              {/* <Email emailIsValid={emailIsValid} setEmail={setEmail} /> */}\n              <Username usernameIsValid={usernameIsValid} setUsername={setUsername} />{' '}\n            </Box>\n            <Box width=\"80%\" m={1}>\n              <Password label=\"Password\" passwordIsValid={passwordIsValid} setPassword={setPassword} />\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\n                <Box onClick={passwordResetClicked} mt={2}>\n                  <Typography className={classes.hover} variant=\"body2\">\n                    Forgot Password?\n                  </Typography>\n                </Box>\n              </Grid>\n            </Box>\n\n            {/* Error */}\n            <Box mt={2}>\n              <Typography color=\"error\" variant=\"body2\">\n                {error}\n              </Typography>\n            </Box>\n\n            {/* Buttons */}\n            <Box mt={2}>\n              <Grid container direction=\"row\" justify=\"center\">\n                <Box m={1}>\n                  <Button color=\"secondary\" variant=\"contained\" onClick={() => history.goBack()}>\n                    Cancel\n                  </Button>\n                </Box>\n                <Box m={1}>\n                  <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={signInClicked}>\n                    Sign In\n                  </Button>\n                </Box>\n              </Grid>\n            </Box>\n            <Box mt={2}>\n              <Box onClick={() => history.push('signup')}>\n                <Typography className={classes.hover} variant=\"body1\">\n                  Register a new account\n                </Typography>\n              </Box>\n            </Box>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default SignIn\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidEmail, useValidPassword, useValidUsername } from '../../hooks/useAuthHooks'\nimport { Email, Password, Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n})\n\nconst SignUp: React.FunctionComponent<{}> = () => {\n  const classes = useStyles()\n\n  const { email, setEmail, emailIsValid } = useValidEmail('')\n  const { password, setPassword, passwordIsValid } = useValidPassword('')\n  const { username, setUsername, usernameIsValid } = useValidUsername('')\n  const [error, setError] = useState('')\n  const [created, setCreated] = useState(false)\n\n  const {\n    password: passwordConfirm,\n    setPassword: setPasswordConfirm,\n    passwordIsValid: passwordConfirmIsValid,\n  } = useValidPassword('')\n\n  const isValid =\n    !emailIsValid ||\n    email.length === 0 ||\n    !usernameIsValid ||\n    username.length === 0 ||\n    !passwordIsValid ||\n    password.length === 0 ||\n    !passwordConfirmIsValid ||\n    passwordConfirm.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const signInClicked = async () => {\n    try {\n      await authContext.signUpWithEmail(username, email, password)\n      setCreated(true)\n    } catch (err) {\n      if (err instanceof Error) {\n        setError(err.message)\n      }\n    }\n  }\n\n  const signUp = (\n    <>\n      <Box width=\"80%\" m={1}>\n        <Email emailIsValid={emailIsValid} setEmail={setEmail} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Username usernameIsValid={usernameIsValid} setUsername={setUsername} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Password\" passwordIsValid={passwordIsValid} setPassword={setPassword} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Confirm Password\" passwordIsValid={passwordConfirmIsValid} setPassword={setPasswordConfirm} />\n      </Box>\n      <Box mt={2}>\n        <Typography color=\"error\" variant=\"body2\">\n          {error}\n        </Typography>\n      </Box>\n\n      {/* Buttons */}\n      <Box mt={2}>\n        <Grid container direction=\"row\" justify=\"center\">\n          <Box m={1}>\n            <Button onClick={() => history.goBack()} color=\"secondary\" variant=\"contained\">\n              Cancel\n            </Button>\n          </Box>\n          <Box m={1}>\n            <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={signInClicked}>\n              Sign Up\n            </Button>\n          </Box>\n        </Grid>\n      </Box>\n    </>\n  )\n\n  const accountCreated = (\n    <>\n      <Typography variant=\"h5\">{`Created ${username} account`}</Typography>\n      <Typography variant=\"h6\">{`Verfiy Code sent to ${email}`}</Typography>\n\n      <Box m={4}>\n        <Button onClick={() => history.push('/verify')} color=\"primary\" variant=\"contained\">\n          Send Code\n        </Button>\n      </Box>\n    </>\n  )\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 16 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            {/* Title */}\n            <Box m={3}>\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                <Typography variant=\"h3\">Sign Up</Typography>\n              </Grid>\n            </Box>\n\n            {!created ? signUp : accountCreated}\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default SignUp\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidCode, useValidUsername } from '../../hooks/useAuthHooks'\nimport { Code, Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n  hover: {\n    '&:hover': { cursor: 'pointer' },\n  },\n})\n\nconst VerifyCode: React.FunctionComponent<{}> = () => {\n  const classes = useStyles()\n\n  const { username, setUsername, usernameIsValid } = useValidUsername('')\n  const { code, setCode, codeIsValid } = useValidCode('')\n  const [error, setError] = useState('')\n\n  const isValid = !usernameIsValid || username.length === 0 || !codeIsValid || code.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const sendClicked = async () => {\n    try {\n      await authContext.verifyCode(username, code)\n      history.push('signin')\n    } catch (err) {\n      setError('Invalid Code')\n    }\n  }\n\n  const passwordResetClicked = async () => {\n    history.push('/resetpassword')\n  }\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 32 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            {/* Title */}\n            <Box m={2}>\n              <Typography variant=\"h3\">Send Code</Typography>\n            </Box>\n\n            {/* Sign In Form */}\n            <Box width=\"80%\" m={1}>\n              {/* <Email emailIsValid={emailIsValid} setEmail={setEmail} /> */}\n              <Username usernameIsValid={usernameIsValid} setUsername={setUsername} />{' '}\n            </Box>\n            <Box width=\"80%\" m={1}>\n              <Code codeIsValid={codeIsValid} setCode={setCode} />\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\n                <Box onClick={passwordResetClicked} mt={2}>\n                  <Typography className={classes.hover} variant=\"body2\">\n                    Resend Code\n                  </Typography>\n                  <Box mt={2}>\n                    <Typography color=\"error\" variant=\"body2\">\n                      {error}\n                    </Typography>\n                  </Box>\n                </Box>\n              </Grid>\n            </Box>\n\n            {/* Buttons */}\n            <Box mt={2}>\n              <Grid container direction=\"row\" justify=\"center\">\n                <Box m={1}>\n                  <Button color=\"secondary\" variant=\"contained\" onClick={() => history.goBack()}>\n                    Cancel\n                  </Button>\n                </Box>\n                <Box m={1}>\n                  <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={sendClicked}>\n                    Send\n                  </Button>\n                </Box>\n              </Grid>\n            </Box>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default VerifyCode\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidUsername } from '../../hooks/useAuthHooks'\nimport { Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n  hover: {\n    '&:hover': { cursor: 'pointer' },\n  },\n  text: {\n    textAlign: 'center',\n  },\n})\n\nexport default function RequestCode() {\n  const classes = useStyles()\n\n  const { username, setUsername, usernameIsValid } = useValidUsername('')\n  const [error, setError] = useState('')\n  const [resetSent, setResetSent] = useState(false)\n\n  const isValid = !usernameIsValid || username.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const sendCodeClicked = async () => {\n    try {\n      await authContext.sendCode(username)\n      setResetSent(true)\n    } catch (err) {\n      setError('Unknown user')\n    }\n  }\n\n  const emailSent = (\n    <>\n      <Box mt={1}>\n        <Typography className={classes.text} variant=\"h5\">{`Reset Code Sent to ${username}`}</Typography>\n      </Box>\n      <Box mt={4}>\n        <Button onClick={() => history.push('forgotpassword')} color=\"primary\" variant=\"contained\">\n          Reset Password\n        </Button>\n      </Box>\n    </>\n  )\n\n  const sendCode = (\n    <>\n      <Box width=\"80%\" m={1}>\n        <Username usernameIsValid={usernameIsValid} setUsername={setUsername} />\n      </Box>\n      <Box mt={2}>\n        <Typography color=\"error\" variant=\"body2\">\n          {error}\n        </Typography>\n      </Box>\n\n      <Box mt={2}>\n        <Grid container direction=\"row\" justify=\"center\">\n          <Box m={1}>\n            <Button color=\"secondary\" variant=\"contained\" onClick={() => history.goBack()}>\n              Cancel\n            </Button>\n          </Box>\n          <Box m={1}>\n            <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={sendCodeClicked}>\n              Send Code\n            </Button>\n          </Box>\n        </Grid>\n      </Box>\n    </>\n  )\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 32 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            <Box m={2}>\n              <Typography variant=\"h3\">Send Reset Code</Typography>\n            </Box>\n\n            {resetSent ? emailSent : sendCode}\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidCode, useValidPassword, useValidUsername } from '../../hooks/useAuthHooks'\nimport { Code, Password, Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n})\n\nexport default function ForgotPassword() {\n  const classes = useStyles()\n\n  const { code, setCode, codeIsValid } = useValidCode('')\n  const { password, setPassword, passwordIsValid } = useValidPassword('')\n  const { username, setUsername, usernameIsValid } = useValidUsername('')\n  const [error, setError] = useState('')\n  const [reset, setReset] = useState(false)\n\n  const {\n    password: passwordConfirm,\n    setPassword: setPasswordConfirm,\n    passwordIsValid: passwordConfirmIsValid,\n  } = useValidPassword('')\n\n  const isValid =\n    !codeIsValid ||\n    code.length === 0 ||\n    !usernameIsValid ||\n    username.length === 0 ||\n    !passwordIsValid ||\n    password.length === 0 ||\n    !passwordConfirmIsValid ||\n    passwordConfirm.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const resetPassword = async () => {\n    try {\n      await authContext.forgotPassword(username, code, password)\n      setReset(true)\n    } catch (err) {\n      if (err instanceof Error) {\n        setError(err.message)\n      }\n    }\n  }\n\n  const updatePassword = (\n    <>\n      <Box width=\"80%\" m={1}>\n        <Code codeIsValid={codeIsValid} setCode={setCode} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Username usernameIsValid={usernameIsValid} setUsername={setUsername} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Password\" passwordIsValid={passwordIsValid} setPassword={setPassword} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Confirm Password\" passwordIsValid={passwordConfirmIsValid} setPassword={setPasswordConfirm} />\n      </Box>\n\n      {/* Error */}\n      <Box mt={2}>\n        <Typography color=\"error\" variant=\"body2\">\n          {error}\n        </Typography>\n      </Box>\n\n      {/* Buttons */}\n      <Box mt={2}>\n        <Grid container direction=\"row\" justify=\"center\">\n          <Box m={1}>\n            <Button onClick={() => history.goBack()} color=\"secondary\" variant=\"contained\">\n              Cancel\n            </Button>\n          </Box>\n          <Box m={1}>\n            <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={resetPassword}>\n              Change Password\n            </Button>\n          </Box>\n        </Grid>\n      </Box>\n    </>\n  )\n\n  const passwordReset = (\n    <>\n      <Typography variant=\"h5\">{`Password Reset`}</Typography>\n\n      <Box m={4}>\n        <Button onClick={() => history.push('/signin')} color=\"primary\" variant=\"contained\">\n          Sign In\n        </Button>\n      </Box>\n    </>\n  )\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 16 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            {/* Title */}\n            <Box m={3}>\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                <Typography variant=\"h3\">Forgot Password</Typography>\n              </Grid>\n            </Box>\n\n            {!reset ? updatePassword : passwordReset}\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n","import React, { useState, useContext } from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidPassword } from '../../hooks/useAuthHooks'\nimport { Password } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n})\n\nexport default function ChangePassword() {\n  const classes = useStyles()\n\n  const [error, setError] = useState('')\n  const [reset, setReset] = useState(false)\n\n  const {\n    password: oldPassword,\n    setPassword: setOldPassword,\n    passwordIsValid: oldPasswordIsValid,\n  } = useValidPassword('')\n\n  const {\n    password: newPassword,\n    setPassword: setNewPassword,\n    passwordIsValid: newPasswordIsValid,\n  } = useValidPassword('')\n\n  const isValid = !oldPasswordIsValid || oldPassword.length === 0 || !newPasswordIsValid || newPassword.length === 0\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n  const changePassword = async () => {\n    try {\n      await authContext.changePassword(oldPassword, newPassword)\n      setReset(true)\n    } catch (err: any) {\n      setError(err.message)\n    }\n  }\n\n  const signOut = async () => {\n    try {\n      await authContext.signOut()\n      history.push('/')\n    } catch (err) {\n      if (err instanceof Error) {\n        setError(err.message)\n      }\n    }\n  }\n\n  const updatePassword = (\n    <>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Old Password\" passwordIsValid={oldPasswordIsValid} setPassword={setOldPassword} />\n      </Box>\n      <Box width=\"80%\" m={1}>\n        <Password label=\"Password\" passwordIsValid={newPasswordIsValid} setPassword={setNewPassword} />\n      </Box>\n      {/* Error */}\n      <Box mt={2}>\n        <Typography color=\"error\" variant=\"body2\">\n          {error}\n        </Typography>\n      </Box>\n\n      {/* Buttons */}\n      <Box mt={2}>\n        <Grid container direction=\"row\" justify=\"center\">\n          <Box m={1}>\n            <Button onClick={() => history.goBack()} color=\"secondary\" variant=\"contained\">\n              Cancel\n            </Button>\n          </Box>\n          <Box m={1}>\n            <Button disabled={isValid} color=\"primary\" variant=\"contained\" onClick={changePassword}>\n              Change Password\n            </Button>\n          </Box>\n        </Grid>\n      </Box>\n    </>\n  )\n\n  const passwordReset = (\n    <>\n      <Typography variant=\"h5\">{`Password Changed`}</Typography>\n\n      <Box m={4}>\n        <Button onClick={signOut} color=\"primary\" variant=\"contained\">\n          Sign In\n        </Button>\n      </Box>\n    </>\n  )\n\n  return (\n    <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n      <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n        <Paper style={{ width: '100%', padding: 16 }}>\n          <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n            {/* Title */}\n            <Box m={3}>\n              <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                <Typography variant=\"h3\">Change Password</Typography>\n              </Grid>\n            </Box>\n\n            {!reset ? updatePassword : passwordReset}\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n","import React from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Button from '@material-ui/core/Button'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  title: {\n    textAlign: 'center',\n  },\n}))\n\nconst Landing: React.FunctionComponent = () => {\n  const classes = useStyles()\n\n  const history = useHistory()\n\n  const signIn = () => {\n    history.push('/signin')\n  }\n\n  return (\n    <Grid container>\n      <Grid className={classes.root} container direction=\"column\" justify=\"center\" alignItems=\"center\">\n        <Box m={2}>\n          <img src={'./logomain.png'} width={224} height={224} alt=\"logo\" />\n        </Box>\n        <Box m={2}>\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n              <Typography className={classes.title} variant=\"h3\">\n                Ride Share\n              </Typography>\n            </Grid>\n        </Box>\n        <Box m={2}>\n          <Button onClick={signIn} variant=\"contained\" color=\"primary\">\n            SIGN IN\n          </Button>\n        </Box>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default Landing\n","import React, {useState} from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\n\n\nconst useStyles = makeStyles({\n    root: {\n        height: '100vh',\n    },\n    hover: {\n        '&:hover': { cursor: 'pointer' },\n    },\n})\n\nfunction Home() {\n\n    const classes = useStyles();\n    const history = useHistory();\n\n    let is_active_driver = 'N';\n    let is_active_rider = 'N';\n\n    let user_id = localStorage.getItem(\"rs_share_user\");\n\n\n\n    const [activeDriver, setActiveDriver] = useState(\"Loading\");\n    const [activeRider, setActiveRider] = useState(\"Loading\");\n\n    React.useEffect(() => {\n        user_id = localStorage.getItem(\"rs_share_user\");\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                    console.log(result);\n                    if (result !== 'null') {\n                        setActiveDriver(\"Y\");\n                    } else {setActiveDriver(\"N\")}},\n                (error) => { return error; }\n            )\n\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                    if (result !== 'null') {\n                        setActiveRider(\"N\"); //TO DO FIX THIS\n                    } else {setActiveRider(\"N\")}},\n                (error) => { return error; }\n            )\n    }, []);\n\n\n\n    function activateDriver() {\n        console.log(\"activating\");\n        history.push('driver');\n    }\n\n    function activateRider() {\n        console.log(\"activating rider\");\n        history.push('rider');\n    }\n\n\n    if (activeDriver === 'Loading' || activeRider === 'Loading') {\n        return (\n            <div>Loading</div>\n        );\n    } else if (activeDriver === 'Y') {\n        history.push('drivera');\n        return (\n\n            <div>Driver</div>\n        );\n    } else if (activeRider === 'Y') {\n        return (\n\n            <div>Rider</div>\n        );\n    } else {\n        return (\n\n                <Grid className={classes.root} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                    <Grid xs={11} sm={6} lg={4} container direction=\"row\" justify=\"center\" alignItems=\"center\" item>\n                        <Paper style={{ width: '100%', padding: 32 }}>\n                            <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n                                {/* Title */}\n                                <Box m={2}>\n                                    <Typography variant=\"h3\"></Typography>\n                                </Box>\n\n                                {/* Sign In Form */}\n                                <Box width=\"80%\" m={1}>\n                                    {/* <Email emailIsValid={emailIsValid} setEmail={setEmail} /> */}\n                                    <Grid container direction=\"row\" justify=\"center\">\n                                        <Box m={1}>\n                                            <Button style={{width: '200px'}} color=\"secondary\" variant=\"contained\" onClick={activateDriver}>\n                                                Start Ride\n                                            </Button>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                                <Box width=\"80%\" m={1}>\n                                    {/* <Email emailIsValid={emailIsValid} setEmail={setEmail} /> */}\n                                    <Grid container direction=\"row\" justify=\"center\">\n                                        <Box m={1}>\n                                            <Button style={{width: '200px'}} color=\"primary\" variant=\"contained\" onClick={activateRider}>\n                                                Join Ride\n                                            </Button>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </Grid>\n                        </Paper>\n                    </Grid>\n                </Grid>\n\n        )\n    }\n\n}\n\nexport default Home;\n","/*global google*/\nimport React, { useState, useEffect } from \"react\";\nimport { DirectionsRenderer } from \"react-google-maps\";\n\nconst Renderer = props => {\n    const [directions, setDirections] = useState(null);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const { places, travelMode } = props;\n        const waypoints = places.map(p => ({\n            location: { lat: p.lat, lng: p.lng },\n            stopover: true\n        }));\n\n\n        const origin = waypoints.shift().location;\n        const destination = waypoints.pop().location;\n\n        const directionsService = new google.maps.DirectionsService();\n        directionsService.route(\n            {\n                origin: origin,\n                destination: destination,\n                travelMode: travelMode,\n                waypoints: waypoints\n            },\n            (result, status) => {\n                if (status === google.maps.DirectionsStatus.OK) setDirections(result);\n                else setError(result);\n            }\n        );\n    });\n\n    if (error) return <h1>{error}</h1>;\n    return directions && <DirectionsRenderer directions={directions} />;\n};\n\nexport default Renderer;\n","import React from \"react\";\nimport {Box} from \"@mui/material\";\n\nimport {GoogleMap, withGoogleMap, withScriptjs} from \"react-google-maps\";\nimport Renderer from \"./Renderer\";\n\nconst API_KEY = \"AIzaSyAzp0_aceOfsvY8N7SXC20N2sCK2w114Go\";\n//const API_KEY = \"AIzaSyDciBUuGsYD6gmUrEkV-24bhXvzAXiZz0g\"; //megha's\n//const API_KEY = \"AIzaSyCFOxZdr5r5zsdVPG7XD2o_CAwwy2DvPqo\"; //megha's 2\n\n\n\n\n\nconst MapScreen = (input) => {\n\n    let Map;\n    if (input.from && !isNaN(input.from.lat) && !isNaN(input.from.lng) && input.to && !isNaN(input.to.lat) && !isNaN(input.to.lng)) {\n        console.log(input.to.lat);\n        console.log(input.to.lng);\n        Map = withScriptjs(\n            withGoogleMap(props => (\n                <GoogleMap\n                    defaultCenter={props.defaultCenter}\n                    defaultZoom={props.defaultZoom}\n                >\n                    {<Renderer\n                        places={props.places}\n                        travelMode={window.google.maps.TravelMode.DRIVING}\n                    />}\n                </GoogleMap>\n            ))\n        );\n    } else {\n        Map = withScriptjs(\n            withGoogleMap(props => (\n                <GoogleMap\n                    defaultCenter={props.defaultCenter}\n                    defaultZoom={12}\n                >\n                </GoogleMap>\n            ))\n        );\n    }\n\n\n    return (\n                <Map\n                    googleMapURL={\n                        \"https://maps.googleapis.com/maps/api/js?key=\" +\n                        API_KEY +\n                        \"&v=3.exp&libraries=geometry,drawing,places&sensor=true\"\n                    }\n                    places={[input.from, input.to]}\n                    loadingElement={<div style={{ height: `100%` }} />}\n                    containerElement={<div style={{ height: \"80vh\" }} />}\n                    mapElement={<div style={{ height: \"100vh\" }} />}\n                    defaultCenter={{ lat: input.default.lat, lng: input.default.lng }}\n                    defaultZoom={9}\n                />\n\n    );\n};\n\nexport default MapScreen;\n","import React from 'react';\n\nexport default React.createContext(null);\n\n","import React from 'react';\n\nimport {useHistory} from 'react-router-dom';\nimport {Button} from \"@mui/material\";\n\n\nfunction Header() {\n\n  const history = useHistory();\n\n  const logout = () => {\n    const isLogout = window.confirm('Do you want to log out ?');\n    if (isLogout) {\n      history.push('logout')\n    }\n  }\n\n  return (\n      <Button style={{position: 'absolute', right: 20}}\n              variant=\"contained\"\n              onClick={() => logout()}\n      >Logout</Button>)\n}\n\nexport default Header;\n","import React, {useContext, useState} from \"react\";\nimport {AppBar, Box, Button, Drawer, FormControl, Input, List, ListItemText, Toolbar, Typography} from \"@mui/material\";\nimport PlacesAutocomplete, {geocodeByAddress, getLatLng} from \"react-places-autocomplete\";\nimport MapScreen from \"./Map\"\nimport Context from './Context';\nimport {useHistory} from \"react-router-dom\";\nimport Header from \"./Header\";\n\n\nconst MainScreen2 = () => {\n\n    const history = useHistory();\n    const drawerWidth = \"100%\";\n    const { setFromMap, setToMap } = useContext(Context);\n    const [from, setFrom] = useState(\"\");\n    const [fromCoords, setFromCoords] = useState({\n        lat: null,\n        lng: null\n    });\n    const [to, setTo] = useState(\"\");\n    const [seats, setSeats] = useState(\"\");\n    const [detour, setDetour] = useState(\"\");\n    const [toCoords, setToCoords] = useState({\n        lat: null,\n        lng: null\n    });\n\n    const handleSelectFrom = async value => {\n        const results = await geocodeByAddress(value);\n        const latLng = await getLatLng(results[0]);\n        setFrom(value);\n        //from_ = latLng;\n        setFromCoords(latLng);\n    };\n\n    const handleSelectTo = async value => {\n        const results = await geocodeByAddress(value);\n        const latLng = await getLatLng(results[0]);\n\n        setTo(value);\n        //to_ = latLng;\n        setToCoords(latLng);\n    };\n\n    async function postRide(from_, to_, seats, detour) {\n        const user_id = localStorage.getItem(\"rs_share_user\");\n        await fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                driver_id: user_id,\n                from_lat: from_.lat,\n                from_lng: from_.lng,\n                to_lat: to_.lat,\n                to_lng: to_.lng,\n                miles: detour,\n                seats: seats,\n                src: from,\n                dst: to,\n            })\n        })\n        history.push('drivera');\n    }\n\n\n    return (\n\n        <Drawer\n            variant=\"permanent\"\n            sx={{\n                width: drawerWidth,\n                flexShrink: 0,\n                [`& .MuiDrawer-paper`]: {\n                    width: drawerWidth,\n                    boxSizing: \"border-box\"\n                }\n            }}\n        >\n            <Toolbar />\n            <Box sx={{ m: 2 }}>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={from}\n                            onChange={setFrom}\n                            onSelect={handleSelectFrom}\n                        >\n                            {({\n                                  getInputProps,\n                                  suggestions,\n                                  getSuggestionItemProps,\n                                  loading\n                              }) => (\n                                <Box>\n                                    <Input\n                                        autoFocus={true}\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"From\" })}\n                                    />\n                                    <List dense={true}>\n                                        {loading ? <Box>...loading</Box> : null}\n                                        {suggestions.map(suggestion => {\n                                            return (\n                                                <ListItemText\n                                                    {...getSuggestionItemProps(suggestion)}\n                                                    sx={{ cursor: \"pointer\" }}\n                                                >\n                                                    {suggestion.description}\n                                                </ListItemText>\n                                            );\n                                        })}\n                                    </List>\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={to}\n                            onChange={setTo}\n                            onSelect={handleSelectTo}\n                        >\n                            {({\n                                  getInputProps,\n                                  suggestions,\n                                  getSuggestionItemProps,\n                                  loading\n                              }) => (\n                                <Box>\n                                    <Input\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"To\" })}\n                                    />\n                                    <List dense={true}>\n                                        {loading ? <Box>...loading</Box> : null}\n                                        {suggestions.map(suggestion => {\n                                            return (\n                                                <ListItemText\n                                                    {...getSuggestionItemProps(suggestion)}\n                                                    sx={{\n                                                        cursor: \"pointer\"\n                                                    }}\n                                                >\n                                                    {suggestion.description}\n                                                </ListItemText>\n                                            );\n                                        })}\n                                    </List>\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={seats}\n                            onChange={setSeats}\n                        >\n                            {({\n                                  getInputProps\n                              }) => (\n                                <Box>\n                                    <Input\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"Spare Seats\" })}\n                                    />\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={detour}\n                            onChange={setDetour}\n                        >\n                            {({\n                                  getInputProps\n                              }) => (\n                                <Box>\n                                    <Input\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"Max Detour (mi)\" })}\n                                    />\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    {<Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            if (fromCoords && toCoords && seats && detour) {\n                                setFromMap(fromCoords);\n                                setToMap(toCoords);\n                                postRide(fromCoords, toCoords, seats, detour);\n                            }\n                        }}\n                    >Submit</Button>}\n                </Box>\n            </Box>\n        </Drawer>\n\n    );\n};\n\nconst InnerMap = () => {\n    const { fromMap, toMap, defaultMap } = useContext(Context);\n\n        return (\n            <Box component=\"main\" sx={{flexGrow: 1}}>\n                <MapScreen\n                    to={{lat: toMap.lat, lng: toMap.lng}}\n                    from={{lat: fromMap.lat, lng: fromMap.lng}}\n                    default={{ lat: defaultMap.lat, lng: defaultMap.lng }}\n                />\n            </Box>\n        );\n};\n\nconst Driver = () => {\n    const [fromMap, setFromMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [toMap, setToMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [defaultMap, setDefaultMap] = useState({\n        lat: 0.0,\n        lng: 0.0\n    });\n\n    React.useEffect(() => {\n        navigator.geolocation.getCurrentPosition(function(position) {\n            setDefaultMap({lat: position.coords.latitude, lng: position.coords.longitude});\n        });\n    }, []);\n\n    return (\n        <Context.Provider value={{fromMap, setFromMap, toMap, setToMap, defaultMap}}>\n            <Box sx={{ display: \"flex\" }}>\n                <AppBar\n                    position=\"fixed\"\n                    sx={{ zIndex: theme => theme.zIndex.drawer + 1 }}\n                >\n                    <Toolbar>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            RideShare\n                        </Typography>\n                        <Header></Header>\n\n                    </Toolbar>\n                </AppBar>\n                <MainScreen2/>\n            </Box>\n        </Context.Provider>\n    );\n};\n\n\n\nexport default Driver;\n","import React, {useContext, useState} from \"react\";\nimport {AppBar, Box, Button, Drawer, Toolbar, Typography, Menu} from \"@mui/material\";\nimport MapScreen from \"./Map\"\nimport Context from './Context';\nimport {useHistory} from \"react-router-dom\";\nimport Header from './Header';\n\n\nconst MainScreen2 = () => {\n\n    const user_id = localStorage.getItem(\"rs_share_user\");\n    const history = useHistory();\n    const { setFromMap, setToMap } = useContext(Context);\n    const { setRideFlag } = useContext(Context);\n    const { riderName, setRiderName } = useContext(Context);\n\n    const [pickup, setPickup] = useState(null);\n    const [pickupDOM, setPickupDOM] = useState(null);\n\n\n    React.useLayoutEffect(() => {\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                    let res_ = JSON.parse(result);\n                console.log(res_);\n                    if (!res_ || res_==='null') {\n                        let x=1;//history.push('driver');\n                    } else {setFromMap({lat: Number(res_[6]), lng: Number(res_[7])});}\n\n            })\n            .then((error) => { return error; })\n    }, []);\n\n    React.useLayoutEffect(() => {\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/current?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                let res1_ = JSON.parse(result);\n                console.log('------');\n                console.log(res1_);\n                if (res1_ && res1_!=='null' ) {\n                    setToMap({lat: Number(res1_[5]), lng: Number(res1_[6])})\n\n                    if (res1_[7] === 'A') {\n                        setRideFlag('End Ride');\n                        setRiderName(\"Completing Trip\");\n                    }\n                    if (res1_[7] === 'B') {\n                        setRideFlag('Rider Picked Up?');\n                        setRiderName(\"Picking Up: \" + res1_[4] + \" | From: \" + res1_[9]);\n                    }\n                    if (res1_[7] === 'C') {\n                        setRideFlag('Rider Dropped?');\n                        setRiderName(\"Dropping: \" + res1_[4] + \" | At: \" + res1_[9]);\n                    }\n                }\n\n            })\n            .then((error) => { return error; }\n            )}, []);\n\n    React.useLayoutEffect(() => {\n        const interval = setInterval(() => {\n            fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1?user_id=\" + user_id)\n                .then(res => res.json())\n                .then((result) => {\n                    let res_ = JSON.parse(result);\n                    if (!res_ || res_==='null') {\n                        let x=1;\n                    } else {setFromMap({lat: Number(res_[6]), lng: Number(res_[7])});}\n                })\n                .then((error) => { return error; })\n            //window.location.reload();\n        }, 5000);\n        return () => clearInterval(interval);\n    }, []);\n\n\n    React.useLayoutEffect(() => {\n        const interval = setInterval(() => {\n\n\n\n            navigator.geolocation.getCurrentPosition(function(position) {\n                fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/driver/update',\n                    {\n                        method: 'POST',\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-Type': 'application/json',\n                        },\n                        body: JSON.stringify({\n                            driver_id: user_id,\n                            lat: position.coords.latitude,\n                            lng: position.coords.longitude\n                        })\n                    }\n                )\n            });\n\n        }, 1000); //6000\n        return () => clearInterval(interval);\n    }, []);\n\n    async function matchAccept(status, id, driver_id, driver_ride_id, rider_id, rider_ride_id) {\n        await fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/pickup/accept',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    pickup_id: id,\n                    driver_id: driver_id,\n                    driver_ride_id: driver_ride_id,\n                    rider_id: rider_id,\n                    rider_ride_id: rider_ride_id,\n                    status: status\n                })\n            }\n        )\n        window.location.reload();\n        //history.push('drivera');\n    }\n\n    React.useLayoutEffect(() => {\n        if (!pickup) {\n            setPickupDOM(<></>);\n        } else {\n            setPickupDOM(\n\n                <Box sx={{ m: 2 }} style={{position:'fixed', width: '70%', height: '25%', left:'15%', top:'37.5%',\n                    margin:'0px', 'background-color': 'white'}}>\n                    <Box sx={{ m: 2 }} style={{position:'fixed', width: '35%', height: '7.5%', left:'15%', top:'55%',\n                        margin:'0px', 'background-color': 'rgb(197 103 103)', 'display':'flex', 'flex-grow':1}}>\n                        <Button\n                            variant=\"contained\"\n                            style={{'background-color':'rgb(197 103 103)', width:'100vw'}}\n                            onClick={() => {\n                                matchAccept('rejected', pickup[0], pickup[1], pickup[2], pickup[3], pickup[4])\n                                console.log('rejected')\n                            }}\n                        >\n                            <Typography variant=\"h7\" noWrap component=\"div\">\n                                Reject\n                            </Typography>\n                        </Button>\n                    </Box>\n                    <Box sx={{ m: 2 }}\n                         style={{position:'fixed', width: '35%', height: '7.5%', right:'15%', top:'55%',\n                        margin:'0px', 'background-color': '#5e955e', 'display':'flex', 'flex-grow':1}}>\n                        <Button\n                            variant=\"contained\"\n                            style={{'background-color':'#5e955e', width:'100vw'}}\n                            onClick={() => {\n                                matchAccept('accepted', pickup[0], pickup[1], pickup[2], pickup[3], pickup[4])\n                                console.log('acceptedd')\n                            }}\n                        >\n                            <Typography variant=\"h7\" noWrap component=\"div\">\n                                Accept\n                            </Typography>\n                        </Button>\n                    </Box>\n                    <Typography variant=\"h7\" component=\"div\" style={{'text-align': 'center', 'vertical-align': 'middle'}}>\n                        <br/>Pickup Point: {pickup[7]} <br/> Drop Point: {pickup[8]}\n                    </Typography>\n\n                </Box>\n\n            );\n        }\n\n    }, [pickup]);\n\n    React.useLayoutEffect(() => {\n        const interval = setInterval(() => {\n            fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/pickup?user_id=\" + user_id)\n                .then(res => res.json())\n                .then((result) => {\n                    let res = JSON.parse(result);\n                    setPickup(res);\n                })\n                .then((error) => { return error; })\n        }, 2000);\n        return () => clearInterval(interval);\n    }, []);\n\n\n    return (\n\n\n            <div style={{zIndex:10000, position: 'absolute', top: '60px', width: '100%', height: '8%', 'background-color':'white', 'display': 'flex', 'justify-content':'center', 'align-items': 'center', 'border-bottom': '2px solid rgb(94, 149, 94)'}}>\n\n                <div style={{'text-align': 'center', 'vertical-align': 'middle'}}>{ riderName } </div>\n                    {/*{<Button\n                        variant=\"contained\"\n                        onClick={() => {\n                        }}\n                    >Submit</Button>}*/}\n\n                {pickupDOM}\n            </div>\n\n\n    );\n};\n\nconst InnerMap = () => {\n    const { fromMap, toMap, defaultMap } = useContext(Context);\n        return (\n            <Box component=\"main\" sx={{flexGrow: 1}}>\n                <MapScreen\n                    to={{lat: toMap.lat, lng: toMap.lng}}\n                    from={{lat: fromMap.lat, lng: fromMap.lng}}\n                    default={{ lat: defaultMap.lat, lng: defaultMap.lng }}\n                />\n\n            </Box>\n        );\n};\n\nconst DriverActive = () => {\n    const history = useHistory();\n    const [fromMap, setFromMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [toMap, setToMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [defaultMap, setDefaultMap] = useState({\n        lat: 0.0,\n        lng: 0.0\n    });\n\n    const [rideFlag, setRideFlag] = useState(\"\");\n    const [riderName, setRiderName] = useState(\"\");\n\n    React.useEffect(() => {\n        navigator.geolocation.getCurrentPosition(function(position) {\n            setDefaultMap({lat: position.coords.latitude, lng: position.coords.longitude});\n        });\n    }, []);\n\n    async function deleteTop() {\n        const user_id = localStorage.getItem(\"rs_share_user\");\n        const flag = rideFlag;\n        await fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/routes/delete/top', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                driver_id: user_id,\n            })\n        })\n        if (flag === 'End Ride') {\n            history.push('home');\n        } else {\n            window.location.reload();\n            //history.push('drivera');\n        }\n    }\n\n    return (\n        <Context.Provider value={{fromMap, setFromMap, toMap, setToMap, defaultMap, rideFlag, setRideFlag, riderName, setRiderName}}>\n            <Box sx={{ display: \"flex\" }}>\n                <AppBar\n                    position=\"fixed\"\n\n                    sx={{ zIndex: theme => theme.zIndex.drawer + 1, height: '60px'}}\n                >\n                    <Toolbar>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            RideShare\n                        </Typography>\n                        <Header></Header>\n                    </Toolbar>\n                </AppBar>\n                <MainScreen2/>\n                <InnerMap/>\n                <Box sx={{flexGrow: 1, zIndex:100000 }} style={{position: 'absolute', bottom:0, width: '100vw', height: '10%', 'background-color': 'gray', 'display':'flex', 'justify-content': 'center'}}>\n                    <Button\n                        style={{ padding: '0 5% 0 5%'}}\n                        variant=\"contained\"\n                        onClick={() => {\n                            deleteTop()\n                        }}>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            { rideFlag }\n                        </Typography>\n                    </Button>\n\n                </Box>\n\n            </Box>\n        </Context.Provider>\n    );\n};\n\n\n\nexport default DriverActive;\n","import React, {useState, useContext, useEffect} from 'react'\n\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useValidPassword, useValidUsername } from '../../hooks/useAuthHooks'\nimport { Password, Username } from '../../components/authComponents'\n\nimport { AuthContext } from '../../contexts/authContext'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100vh',\n  },\n  hover: {\n    '&:hover': { cursor: 'pointer' },\n  },\n})\n\nconst Logout: React.FunctionComponent<{}> = () => {\n\n\n  const history = useHistory()\n\n  const authContext = useContext(AuthContext)\n\n\n\n  useEffect(() => {\n    async function fetchMyAPI() {\n      await authContext.signOut()\n      history.push('landing')\n    }\n\n    fetchMyAPI()\n  }, [])\n/*\n  useEffect(() => {\n    await authContext.signOut()\n    history.push('landing')\n  })*/\n\n\n  return (<div></div>);\n}\n\nexport default Logout\n","import React, {useContext, useState} from \"react\";\nimport {AppBar, Box, Button, Drawer, FormControl, Input, List, ListItemText, Toolbar, Typography} from \"@mui/material\";\nimport PlacesAutocomplete, {geocodeByAddress, getLatLng} from \"react-places-autocomplete\";\nimport MapScreen from \"./Map\"\nimport Context from './Context';\nimport {useHistory} from \"react-router-dom\";\nimport Header from \"./Header\";\n\n\nconst MainScreen2 = () => {\n\n    const history = useHistory();\n    const drawerWidth = \"100%\";\n    const { setFromMap, setToMap } = useContext(Context);\n    const [from, setFrom] = useState(\"\");\n    const [fromCoords, setFromCoords] = useState({\n        lat: null,\n        lng: null\n    });\n    const [to, setTo] = useState(\"\");\n    const [rejected, setRejected] = useState(false);\n    const [rejectedDOM, setRejectedDOM] = useState(null);\n    const [toCoords, setToCoords] = useState({\n        lat: null,\n        lng: null\n    });\n\n    const handleSelectFrom = async value => {\n        const results = await geocodeByAddress(value);\n        const latLng = await getLatLng(results[0]);\n        setFrom(value);\n        setFromCoords(latLng);\n    };\n\n    const handleSelectTo = async value => {\n        const results = await geocodeByAddress(value);\n        const latLng = await getLatLng(results[0]);\n\n        setTo(value);\n        setToCoords(latLng);\n    };\n\n    async function postRide(from_, to_, seats, detour) {\n        const user_id = localStorage.getItem(\"rs_share_user\");\n        let response = await fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/rides/start', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                rider_id: user_id,\n                from_lat: from_.lat,\n                from_lng: from_.lng,\n                to_lat: to_.lat,\n                to_lng: to_.lng,\n                src: from,\n                dst: to,\n            })\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (result === 'rejected') {\n                    setRejected(true);\n                    //window.alert('No ride found. Try again later');\n                } else {\n                    history.push('ridera');\n                }\n\n            })\n            .then((error) => { return error; })\n\n        //history.push('ridera');\n    }\n\n    React.useLayoutEffect(() => {\n        if (!rejected) {\n            setRejectedDOM(<></>);\n        } else {\n            setRejectedDOM(\n\n                <Box sx={{ m: 2 }} style={{position:'fixed', width: '70%', height: '10%', left:'15%', top:'37.5%',\n                    margin:'0px', 'background-color': 'grey'}}>\n                    <Box sx={{ m: 2 }}\n                         style={{position:'fixed', width: '70%', height: '7.5%', left:'15%', top:'45%',\n                             margin:'0px', 'background-color': '#5e955e', 'display':'flex', 'flex-grow':1}}>\n                        <Button\n                            variant=\"contained\"\n                            style={{'background-color':'#5e955e', width:'100vw'}}\n                            onClick={() => {\n                                setRejected(false);\n                            }}\n                        >\n                            <Typography variant=\"h7\" noWrap component=\"div\">\n                                OK\n                            </Typography>\n                        </Button>\n                    </Box>\n                    <Typography variant=\"h7\" component=\"div\" style={{'text-align': 'center', 'vertical-align': 'middle', 'color':'white'}}>\n                        <br/>No ride found. Try again later\n                    </Typography>\n\n                </Box>\n\n            );\n        }\n\n    }, [rejected]);\n\n\n    return (\n\n        <Drawer\n            variant=\"permanent\"\n            sx={{\n                width: drawerWidth,\n                flexShrink: 0,\n                [`& .MuiDrawer-paper`]: {\n                    width: drawerWidth,\n                    boxSizing: \"border-box\"\n                }\n            }}\n        >\n            <Toolbar />\n            <Box sx={{ m: 2 }}>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={from}\n                            onChange={setFrom}\n                            onSelect={handleSelectFrom}\n                        >\n                            {({\n                                  getInputProps,\n                                  suggestions,\n                                  getSuggestionItemProps,\n                                  loading\n                              }) => (\n                                <Box>\n                                    <Input\n                                        autoFocus={true}\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"From\" })}\n                                    />\n                                    <List dense={true}>\n                                        {loading ? <Box>...loading</Box> : null}\n                                        {suggestions.map(suggestion => {\n                                            return (\n                                                <ListItemText\n                                                    {...getSuggestionItemProps(suggestion)}\n                                                    sx={{ cursor: \"pointer\" }}\n                                                >\n                                                    {suggestion.description}\n                                                </ListItemText>\n                                            );\n                                        })}\n                                    </List>\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    <FormControl fullWidth>\n                        <PlacesAutocomplete\n                            value={to}\n                            onChange={setTo}\n                            onSelect={handleSelectTo}\n                        >\n                            {({\n                                  getInputProps,\n                                  suggestions,\n                                  getSuggestionItemProps,\n                                  loading\n                              }) => (\n                                <Box>\n                                    <Input\n                                        sx={{ width: \"100%\" }}\n                                        {...getInputProps({ placeholder: \"To\" })}\n                                    />\n                                    <List dense={true}>\n                                        {loading ? <Box>...loading</Box> : null}\n                                        {suggestions.map(suggestion => {\n                                            return (\n                                                <ListItemText\n                                                    {...getSuggestionItemProps(suggestion)}\n                                                    sx={{\n                                                        cursor: \"pointer\"\n                                                    }}\n                                                >\n                                                    {suggestion.description}\n                                                </ListItemText>\n                                            );\n                                        })}\n                                    </List>\n                                </Box>\n                            )}\n                        </PlacesAutocomplete>\n                    </FormControl>\n                </Box>\n                <Box sx={{ m: 2 }}>\n                    {<Button\n                        variant=\"contained\"\n                        onClick={() => {\n                            if (fromCoords && toCoords) {\n                                setFromMap(fromCoords);\n                                setToMap(toCoords);\n                                postRide(fromCoords, toCoords);\n                            }\n                        }}\n                    >Submit</Button>}\n                </Box>\n\n                {rejectedDOM}\n            </Box>\n        </Drawer>\n\n    );\n};\n\n\nconst Rider = () => {\n    const [fromMap, setFromMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [toMap, setToMap] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n\n    return (\n        <Context.Provider value={{fromMap, setFromMap, toMap, setToMap}}>\n            <Box sx={{ display: \"flex\" }}>\n                <AppBar\n                    position=\"fixed\"\n                    sx={{ zIndex: theme => theme.zIndex.drawer + 1 }}\n                >\n                    <Toolbar>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            RideShare\n                        </Typography>\n                        <Header></Header>\n\n                    </Toolbar>\n                </AppBar>\n                <MainScreen2/>\n            </Box>\n        </Context.Provider>\n    );\n};\n\n\n\nexport default Rider;\n","import React, {useContext, useState} from \"react\";\nimport {AppBar, Box, Button, Toolbar, Typography} from \"@mui/material\";\nimport MapScreen from \"./Map\"\nimport Context from './Context';\nimport {useHistory} from \"react-router-dom\";\nimport Header from './Header';\n\n\nconst InnerMap = () => {\n    const { from, to, base } = useContext(Context);\n    return (\n        <Box component=\"main\" sx={{flexGrow: 1}}>\n            <MapScreen\n                to={{lat: parseFloat(to.lat), lng: parseFloat(to.lng)}}\n                from={{lat: parseFloat(from.lat), lng: parseFloat(from.lng) }}\n                default={{ lat: base.lat, lng: base.lng }}\n            />\n\n        </Box>\n    );\n};\n\nconst StateSeparator = () => {\n    const user_id = localStorage.getItem(\"rs_share_user\");\n    const history = useHistory();\n\n    const {from, setFrom} = useContext(Context);\n    const {to, setTo} = useContext(Context);\n    const {base, setBase} = useContext(Context);\n\n    const [rideStatus, setRideStatus] = useState(\"\");\n    const [footerText, setFooterText] = useState(\"\");\n    const [riderTuple, setRiderTuple] = useState(null);\n    const [driverTuple, setDriverTuple] = useState(null);\n\n    const [rideFlag, setRideFlag] = useState(\"\");\n    const [riderName, setRiderName] = useState(\"\");\n\n\n\n    React.useLayoutEffect(() => {\n        rideFetcher();\n    }, []);\n\n    React.useLayoutEffect(() => {\n        const interval = setInterval(() => {\n            rideFetcher();\n        }, 3000);\n        return () => clearInterval(interval);\n    }, []);\n\n    React.useLayoutEffect(() => {\n        console.log(riderTuple);\n        console.log(rideStatus);\n        const interval = setInterval(() => {\n            if (rideStatus === 'requested') {\n                setBase({ lat: parseInt(riderTuple[0]), lng: parseInt(riderTuple[1]) });\n                setFrom({ lat: \"\", lng: \"\" });\n                setTo({ lat: \"\", lng: \"\" });\n            }\n            else if (rideStatus === 'assigned') {\n                setFrom({ lat: riderTuple[15], lng: riderTuple[16] });\n                setTo({ lat: riderTuple[0], lng: riderTuple[1] });\n            }\n            else if (rideStatus === 'active') {\n                setFrom({ lat: riderTuple[15], lng: riderTuple[16] });\n                setTo({ lat: riderTuple[2], lng: riderTuple[3] });\n            }\n        }, 10000);\n        return () => clearInterval(interval);\n    }, []);\n\n    React.useLayoutEffect(() => {\n        if (rideStatus === 'requested') {\n            setBase({ lat: parseFloat(riderTuple[0]), lng: parseFloat(riderTuple[1]) });\n            setFrom({ lat: \"\", lng: \"\" });\n            setTo({ lat: \"\", lng: \"\" });\n            setFooterText(\"Looking for a driver\");\n        }\n        else if (rideStatus === 'assigned') {\n            setBase({ lat: parseFloat(riderTuple[15]), lng: parseFloat(riderTuple[16]) });\n            setFrom({ lat: riderTuple[15], lng: riderTuple[16] });\n            setTo({ lat: riderTuple[0], lng: riderTuple[1] });\n            setFooterText(riderTuple[10] + \" is arriving\");\n        }\n        else if (rideStatus === 'active') {\n            setBase({ lat: parseFloat(riderTuple[15]), lng: parseFloat(riderTuple[16]) });\n            setFrom({ lat: riderTuple[15], lng: riderTuple[16] });\n            setTo({ lat: riderTuple[2], lng: riderTuple[3] });\n            setFooterText(\"Ride in Progress\");\n        }\n    }, [rideStatus]);\n\n\n    async function matchAccept(status, id, driver_id, driver_ride_id, rider_id, rider_ride_id) {\n        await fetch('https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/pickup/accept',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    pickup_id: id,\n                    driver_id: driver_id,\n                    driver_ride_id: driver_ride_id,\n                    rider_id: rider_id,\n                    rider_ride_id: rider_ride_id,\n                    status: status\n                })\n            }\n        )\n        window.location.reload();\n        //history.push('drivera');\n    }\n\n    function rideFetcher() {\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/rides/fetch?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                let res_ = JSON.parse(result);\n                setRiderTuple(res_);\n                if (!res_ || res_==='null') {\n                    setRideStatus('redirecting');\n                    history.push('rider');\n                } else {\n                    setRideStatus(res_[4]);\n                }\n            })\n            .then((error) => { return error; })\n    }\n\n    function driverFetcher() {\n        fetch(\"https://ct4ocfq9d7.execute-api.us-east-1.amazonaws.com/staging_1/rides/active/status?user_id=\" + user_id)\n            .then(res => res.json())\n            .then((result) => {\n                let res_ = JSON.parse(result);\n                setDriverTuple(res_);\n            })\n            .then((error) => { return error; })\n    }\n\n    return (\n\n        <Box sx={{flexGrow: 1, zIndex:100000, position: 'absolute', bottom:0, width: '100vw', height: '10%', backgroundColor: '#1976d2', display:'flex', justifyContent: 'center' }}>\n            {<Button\n                sx={{ width: '100%' }}\n                variant=\"contained\"\n            >\n                <Typography variant=\"h7\" noWrap component=\"div\">\n                    { footerText }\n                </Typography>\n            </Button>}\n        </Box>\n    );\n};\n\n\n\nconst RiderActive = () => {\n    const [from, setFrom] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [to, setTo] = useState({\n        lat: \"\",\n        lng: \"\"\n    });\n    const [base, setBase] = useState({\n        lat: 0,\n        lng: 0\n    });\n\n    return (\n        <Context.Provider value={{from, setFrom, to, setTo, base, setBase }}>\n            <Box sx={{ display: \"flex\" }}>\n                <AppBar\n                    position=\"fixed\"\n\n                    sx={{ zIndex: theme => theme.zIndex.drawer + 1, height: '60px'}}\n                >\n                    <Toolbar>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            RideShare\n                        </Typography>\n                        <Header></Header>\n                    </Toolbar>\n                </AppBar>\n                <div sx={{zIndex:10000, position: 'absolute', top: '60px', width: '100%', height: '8%', backgroundColor:'white',\n                    display: 'flex', justifyContent:'center', alignItems: 'center', borderBottom: '2px solid rgb(94, 149, 94)'}}>\n\n                    <div sx={{textAlign: 'center', verticalAlign: 'middle'}}>{ } </div>\n                    {/*{<Button\n                        variant=\"contained\"\n                        onClick={() => {\n                        }}\n                    >Submit</Button>}*/}\n\n                </div>\n                <InnerMap/>\n                <StateSeparator/>\n\n            </Box>\n        </Context.Provider>\n    );\n};\n\n\n\n\n\nexport default RiderActive;\n","import React from 'react'\nimport './App.css'\n\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport { createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport AuthProvider, { AuthIsSignedIn, AuthIsNotSignedIn } from './contexts/authContext'\n\nimport SignIn from './routes/auth/signIn'\nimport SignUp from './routes/auth/signUp'\nimport VerifyCode from './routes/auth/verify'\nimport RequestCode from './routes/auth/requestCode'\nimport ForgotPassword from './routes/auth/forgotPassword'\nimport ChangePassword from './routes/auth/changePassword'\nimport Landing from './routes/landing'\n//import Home from './routes/home'\nimport Home from './routes/Home.js'\nimport Driver from './routes/Driver.js'\nimport DriverActive from './routes/DriverActive.js'\nimport Logout from \"./routes/auth/logout\";\nimport Rider from \"./routes/Rider\";\nimport RiderActive from \"./routes/RiderActive\";\n\nlet lightTheme = createMuiTheme({\n  palette: {\n    type: 'light',\n  },\n})\nlightTheme = responsiveFontSizes(lightTheme)\n\n// let darkTheme = createMuiTheme({\n//   palette: {\n//     type: 'dark',\n//   },\n// })\n// darkTheme = responsiveFontSizes(darkTheme)\n\nconst SignInRoute: React.FunctionComponent = () => (\n  <Router>\n    <Switch>\n      <Route path=\"/signin\" component={SignIn} />\n      <Route path=\"/signup\" component={SignUp} />\n      <Route path=\"/verify\" component={VerifyCode} />\n      <Route path=\"/requestcode\" component={RequestCode} />\n      <Route path=\"/forgotpassword\" component={ForgotPassword} />\n      <Route path=\"/landing\" component={Landing} />\n        <Route path=\"/\" component={Landing} />\n\n    </Switch>\n  </Router>\n)\n\nconst MainRoute: React.FunctionComponent = () => (\n  <Router>\n    <Switch>\n      <Route path=\"/changepassword\" component={ChangePassword} />\n        <Route path=\"/logout\" component={Logout} />\n        <Route path=\"/driver\" component={Driver} />\n        <Route path=\"/drivera\" component={DriverActive} />\n        <Route path=\"/rider\" component={Rider} />\n        <Route path=\"/ridera\" component={RiderActive} />\n      <Route path=\"/home\" component={Home} />\n        <Route path=\"/\" component={Home} />\n\n    </Switch>\n  </Router>\n)\n\nconst App: React.FunctionComponent = () => (\n  <ThemeProvider theme={lightTheme}>\n    <CssBaseline />\n    <AuthProvider>\n      <AuthIsSignedIn>\n        <MainRoute />\n      </AuthIsSignedIn>\n      <AuthIsNotSignedIn>\n        <SignInRoute />\n      </AuthIsNotSignedIn>\n    </AuthProvider>\n  </ThemeProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals(console.log)\n"],"sourceRoot":""}